(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    182731,       4133]
NotebookOptionsPosition[    181196,       4103]
NotebookOutlinePosition[    181633,       4120]
CellTagsIndexPosition[    181590,       4117]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
  "This", " ", "notebook", " ", "is", " ", "used", " ", "to", " ", "run", " ",
    "the", " ", "manipulates", " ", "to", " ", "toy", " ", "with", " ", 
   "adjusting", " ", "parameters", " ", "and", " ", "view", " ", "simple", 
   " ", 
   RowBox[{"visualizatoins", ".", " ", "The"}], " ", "model", " ", "and", " ",
    "data", " ", 
   RowBox[{"i", "/", "o"}], " ", "live", " ", "in", " ", "the", " ", 
   RowBox[{"model", ".", "wl"}], " ", "file"}], " ", "*)"}]], "Input",
 CellChangeTimes->{{3.7941113342341957`*^9, 3.794111335848022*^9}, 
   3.7941124391949177`*^9, {3.7943679801779613`*^9, 
   3.794368031674584*^9}},ExpressionUUID->"f8e87a96-6358-4f9d-91e3-\
8046d84b9916"],

Cell["\<\
National Model-- Used to determine best - guess model parameters\
\>", "Text",
 CellChangeTimes->{{3.794185147982739*^9, 
  3.7941851567123528`*^9}},ExpressionUUID->"3e98a561-e844-4b52-aa98-\
e9dec381af4c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"distance", ",", "t"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"params", "=", 
       RowBox[{"countryParams", "[", 
        RowBox[{
        "country", ",", "pC", ",", "pH", ",", "medianHospitalizationAge", ",",
          "ageCriticalDependence", ",", "ageHospitalizedDependence"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"thisCountryData", "=", 
       RowBox[{"countryData", "[", "country", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"icuCapacity", "=", 
       RowBox[{"2", "*", 
        RowBox[{
         RowBox[{"params", "[", "\"\<ventilators\>\"", "]"}], "/", 
         RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"distance", "[", "t_", "]"}], ":=", 
       RowBox[{"Piecewise", "[", 
        RowBox[{"countryHistoricalDistancing", "[", 
         RowBox[{"country", ",", "t"}], "]"}], "]"}]}], ";", " ", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"sol", ",", "evts"}], "}"}], "=", 
       RowBox[{"CovidModel", "[", "\[IndentingNewLine]", 
        RowBox[{
        "r0natural", ",", "\[IndentingNewLine]", 
         "daysUntilNotInfectiousOrHospitalized", ",", "\[IndentingNewLine]", 
         "daysFromInfectedToInfectious", ",", "\[IndentingNewLine]", 
         "daysUntilNotInfectiousOrHospitalized", ",", "\[IndentingNewLine]", 
         "daysToLeaveHosptialNonCritical", ",", "\[IndentingNewLine]", 
         "pPCRNH", ",", "\[IndentingNewLine]", "pPCRH", ",", 
         "\[IndentingNewLine]", "daysTogoToCriticalCare", ",", 
         "\[IndentingNewLine]", "daysFromCriticalToRecoveredOrDeceased", ",", 
         "\[IndentingNewLine]", "fractionOfCriticalDeceased", ",", 
         "\[IndentingNewLine]", 
         RowBox[{"params", "[", "\"\<importtime0\>\"", "]"}], ",", 
         "\[IndentingNewLine]", "importlength0", ",", "\[IndentingNewLine]", 
         "initialInfectionImpulse", ",", "\[IndentingNewLine]", "tmax", ",", 
         "\[IndentingNewLine]", 
         RowBox[{"1", "-", "pH", "-", "pC"}], ",", "\[IndentingNewLine]", 
         "pH", ",", "\[IndentingNewLine]", "pC", ",", "\[IndentingNewLine]", 
         "containmentThresholdRatio0", ",", "\[IndentingNewLine]", 
         "icuCapacity", ",", "\[IndentingNewLine]", "distance"}], 
        "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"redefine", " ", "this", " ", "with", " ", "p"}], ",", " ", 
        RowBox[{"for", " ", "dynamic", " ", "setting"}]}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"events", "=", 
       RowBox[{"Association", "[", 
        RowBox[{"Flatten", "[", "evts", "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"make", " ", "plots"}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"setDistancingPlot", "=", 
       RowBox[{"Plot", "[", 
        RowBox[{
         RowBox[{"distance", "[", "t", "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"0", ",", "1"}], "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "True"}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "\"\<100%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.2", ",", "\"\<80%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.4", ",", "\"\<60%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.6", ",", "\"\<40%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.8", ",", "\"\<20%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "\"\<0%\>\""}], "}"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "0"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.2", ",", 
                  RowBox[{"0.2", "*", "r0natural0"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.4", ",", 
                  RowBox[{"0.4", "*", "r0natural0"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.6", ",", 
                  RowBox[{"0.6", "*", "r0natural0"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.8", ",", 
                  RowBox[{"0.8", "*", "r0natural0"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "r0natural0"}], "}"}]}], "}"}]}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameLabel", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"\"\<Social Distance (%)\>\"", ",", "\"\<R0\>\""}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"None", ",", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"deathsPlot", "=", 
       RowBox[{"LogPlot", "[", 
        RowBox[{
         RowBox[{"Evaluate", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
            RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"t", ",", "40", ",", "300"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{"0.1", "*", 
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotLabel", "\[Rule]", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Deaths (cumulative)\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "18"}]}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"Point", "@", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                 RowBox[{"Log", "[", 
                  RowBox[{"#", "[", "\"\<death\>\"", "]"}], "]"}]}], "}"}], 
               "&"}], "/@", 
              RowBox[{"Select", "[", 
               RowBox[{"thisCountryData", ",", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"#", "[", "\"\<death\>\"", "]"}], " ", ">", " ", 
                   "0"}], ")"}], "&"}]}], "]"}]}], ")"}]}], "}"}]}]}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"progressionPlot", "=", 
       RowBox[{"LogPlot", "[", 
        RowBox[{
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"Eq", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"PCR", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"Iq", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"params", "[", "\"\<Population\>\"", "]"}], ","}], 
          "\[IndentingNewLine]", "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"t", ",", "40", ",", "300"}], "}"}], ",", 
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"Point", "@", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                 RowBox[{"Log", "[", 
                  RowBox[{"#", "[", "\"\<positive\>\"", "]"}], "]"}]}], "}"}],
                "&"}], "/@", "thisCountryData"}], ")"}]}], "}"}]}], ",", "  ", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{"3", "*", 
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"PlotLabel", "\[Rule]", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Case Progression\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "18"}]}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotLegends", "\[Rule]", 
          RowBox[{"SwatchLegend", "[", 
           RowBox[{"{", 
            RowBox[{
            "\"\<Infected\>\"", ",", "\"\<PCR Confirmed (cumulative)\>\"", 
             ",", "\"\<Infectious\>\"", ",", " ", "\"\<Population\>\""}], 
            "}"}], "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"criticalPlot", "=", 
       RowBox[{"Plot", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"CCq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
           RowBox[{"2", "*", 
            RowBox[{"params", "[", "\"\<ventilators\>\"", "]"}]}]}], "}"}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"t", ",", "40", ",", "300"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
             "500"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotLabel", "\[Rule]", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Need Critical Care\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "18"}]}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Filling", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"2", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", "1", "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"LightRed", ",", "White"}], "}"}]}], "}"}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"PlotLegends", "\[Rule]", 
          RowBox[{"SwatchLegend", "[", 
           RowBox[{"{", 
            RowBox[{
            "\"\<Critical Care Needed\>\"", ",", 
             "\"\<ICU capacity (ventilator constrained)\>\""}], "}"}], 
           "]"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ageDependencyPlot", "=", 
       RowBox[{"Plot", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"infectedCritical", "[", 
            RowBox[{
            "a", ",", "medianHospitalizationAge", ",", " ", "pC", ",", 
             "ageCriticalDependence"}], "]"}], ",", 
           RowBox[{"infectedHospitalized", "[", 
            RowBox[{
            "a", ",", " ", "medianHospitalizationAge", ",", " ", "pH", ",", 
             "ageHospitalizedDependence"}], "]"}], ",", 
           RowBox[{"noCare", "[", 
            RowBox[{
            "a", ",", " ", "medianHospitalizationAge", ",", " ", "pC", ",", 
             "pH", ",", "ageCriticalDependence", ",", 
             "ageHospitalizedDependence"}], " ", "]"}]}], "}"}], ",", " ", 
         RowBox[{"{", 
          RowBox[{"a", ",", "0", ",", "100"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"PlotLabel", "\[Rule]", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Case severity ratios by age\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "Automatic"}]}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotLegends", "\[Rule]", 
          RowBox[{"SwatchLegend", "[", 
           RowBox[{"{", 
            RowBox[{
            "\"\<Critical\>\"", ",", "\"\<Hospitalized\>\"", ",", 
             "\"\<Home Care\>\""}], "}"}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "200"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"FrameLabel", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"\"\<Fraction (%)\>\"", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"\"\<Age (years)\>\"", ",", "None"}], "}"}]}], "}"}]}]}],
         "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"summary", "=", 
       RowBox[{"Column", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Result summary:\>\"", ",", "Bold"}], "]"}], ",", " ", 
          
          RowBox[{"Grid", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"KeyValueMap", "[", 
              RowBox[{
               RowBox[{"Flatten", "[", 
                RowBox[{"{", "##", "}"}], "]"}], "&"}], "]"}], "@", 
             RowBox[{"<|", 
              RowBox[{
               RowBox[{"\"\<Deaths\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], " ",
                ",", 
               RowBox[{"\"\<PCR Confirmed\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"PCR", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"PCR", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",",
                "\[IndentingNewLine]", 
               RowBox[{"\"\<Population Infected\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{"PercentForm", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"PCR", "[", "t", "]"}], "/.", "sol"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], "]"}], ",", 
                  RowBox[{"PercentForm", "[", " ", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"PCR", "[", "t", "]"}], "/.", "sol"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}], "]"}]}], 
                 "]"}]}], ",", "\[IndentingNewLine]", 
               RowBox[{"\"\<Fatality Rate\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{"PercentForm", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Deaq", "[", "t", "]"}], "/", 
                    RowBox[{"PCR", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], "]"}], ",", 
                  " ", 
                  RowBox[{"PercentForm", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Deaq", "[", "t", "]"}], "/", 
                    RowBox[{"PCR", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}], "]"}]}], 
                 "]"}]}], ",", "\[IndentingNewLine]", 
               RowBox[{"\"\<Date Contained\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{"DateString", "[", 
                   RowBox[{"DatePlus", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], 
                   "]"}], ",", " ", "\"\<Not Contained\>\""}], "]"}]}]}], 
              "|>"}]}], ",", " ", "\[IndentingNewLine]", 
            RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
            RowBox[{"Spacings", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{"2", ",", "1"}], "}"}]}], ",", 
            RowBox[{"Frame", "\[Rule]", "All"}], ",", 
            RowBox[{"ItemStyle", "\[Rule]", "\"\<Text\>\""}]}], "]"}]}], 
         "}"}], "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"Grid", "[", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{"setDistancingPlot", ",", "\[IndentingNewLine]", 
           RowBox[{"Column", "[", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{"\"\<Demographic parameters:\>\"", ",", "Bold"}], 
               "]"}], ",", " ", 
              RowBox[{"Grid", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"KeyValueMap", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", 
                    RowBox[{"{", "##", "}"}], "]"}], "&"}], "]"}], "@", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"<|", 
                    RowBox[{
                    RowBox[{"\"\<Population\>\"", "\[Rule]", 
                    RowBox[{"#", "[", "\"\<Population\>\"", "]"}]}], ",", " ", 
                    RowBox[{"\"\<Import Time\>\"", "\[Rule]", 
                    RowBox[{"DateString", "[", 
                    RowBox[{"DatePlus", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
                    RowBox[{
                    RowBox[{"#", "[", "\"\<importtime0\>\"", "]"}], "-", 
                    "1"}]}], "]"}], "]"}]}], ",", 
                    RowBox[{"\"\<Ventilators\>\"", "\[Rule]", 
                    RowBox[{"#", "[", "\"\<ventilators\>\"", "]"}]}], ",", 
                    RowBox[{"\"\<Probability No Care Needed\>\"", "\[Rule]", 
                    RowBox[{"PercentForm", "[", 
                    RowBox[{"#", "[", "\"\<pS\>\"", "]"}], "]"}]}], ",", 
                    RowBox[{"\"\<Probability ICU\>\"", "\[Rule]", 
                    RowBox[{"PercentForm", "[", 
                    RowBox[{"#", "[", "\"\<pC\>\"", "]"}], "]"}]}], ",", 
                    RowBox[{
                    "\"\<Probability Hospitalized (not ICU)\>\"", "\[Rule]", 
                    RowBox[{"PercentForm", "[", 
                    RowBox[{"#", "[", "\"\<pH\>\"", "]"}], "]"}]}]}], "|>"}], 
                    "&"}], ")"}], "@", "params"}]}], ",", " ", 
                RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
                RowBox[{"Spacings", "\[Rule]", 
                 RowBox[{"{", 
                  RowBox[{"2", ",", "1"}], "}"}]}], ",", 
                RowBox[{"Frame", "\[Rule]", "All"}], ",", 
                RowBox[{"ItemStyle", "\[Rule]", "\"\<Text\>\""}]}], "]"}], 
              ",", "\[IndentingNewLine]", 
              RowBox[{"Row", "[", 
               RowBox[{
               "{", "\[IndentingNewLine]", "ageDependencyPlot", 
                "\[IndentingNewLine]", "}"}], "]"}]}], "\[IndentingNewLine]", 
             "}"}], "]"}]}], "\[IndentingNewLine]", "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"Column", "[", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"\"\<Model Outputs:\>\"", ",", "Bold"}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", "containedGraphics", ",", "heardGraphics"}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"KeyExistsQ", "[", 
                 RowBox[{"events", ",", " ", "\"\<icu\>\""}], "]"}], "&&", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"events", ",", " ", "\"\<containment\>\""}], 
                    "]"}]}], "||", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<icu\>\"", "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "<=", "0"}]}], 
                 ")"}]}], ",", "icuOvershotTextGraphics", ",", 
               "icuBelowCapacityGraphics"}], "]"}]}], "\[IndentingNewLine]", 
            "}"}], "]"}], "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Show", "[", 
            RowBox[{"deathsPlot", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{"0.1", "*", 
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
                    "]"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"Show", "[", 
            RowBox[{"progressionPlot", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], 
                    "]"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], 
          "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Show", "[", 
            RowBox[{"criticalPlot", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", "1"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                    "500"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}], ",", 
           "\[IndentingNewLine]", "summary", ","}], "\[IndentingNewLine]", 
          "}"}]}], "\[IndentingNewLine]", "}"}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"country", ",", "countries"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"initialInfectionImpulse", ",", "initialInfectionImpulse0"}], 
      "}"}], ",", "1", ",", "100"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"r0natural", ",", "r0natural0"}], "}"}], ",", "2.5", ",", "5"}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "daysFromInfectedToInfectious", ",", "daysFromInfectedToInfectious0"}], 
      "}"}], ",", "1", ",", "10"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "daysUntilNotInfectiousOrHospitalized", ",", 
       "daysUntilNotInfectiousOrHospitalized0"}], "}"}], ",", "1", ",", 
     "10"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "daysFromCriticalToRecoveredOrDeceased", ",", 
       "daysFromCriticalToRecoveredOrDeceased0"}], "}"}], ",", "1", ",", 
     "20"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "fractionOfCriticalDeceased", ",", "fractionOfCriticalDeceased0"}], 
      "}"}], ",", "0", ",", "1"}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"medianHospitalizationAge", ",", "medianHospitalizationAge0"}], 
      "}"}], ",", "0", ",", "100"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"ageCriticalDependence", ",", "ageCriticalDependence0"}], "}"}],
      ",", "0", ",", "100"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ageHospitalizedDependence", ",", "ageHospitalizedDependence0"}], "}"}],
      ",", "0", ",", "100"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pH", ",", "pH0"}], "}"}], ",", "0", ",", "0.5"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pC", ",", "pC0"}], "}"}], ",", "0", ",", "0.5"}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "daysToLeaveHosptialNonCritical", ",", 
       "daysToLeaveHosptialNonCritical0"}], "}"}], ",", "0", ",", "10"}], 
    "}"}], ",", "\n", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pPCRNH", ",", "pPCRNH0"}], "}"}], ",", "0", ",", "1"}], "}"}], 
   ",", "\n", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pPCRH", ",", "pPCRH0"}], "}"}], ",", "0", ",", "1"}], "}"}], 
   ",", "\n", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"daysTogoToCriticalCare", ",", "daysTogoToCriticalCare0"}], 
      "}"}], ",", "0", ",", "10"}], "}"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.7941722510644617`*^9, 3.794172266546173*^9}, {
   3.794172314700584*^9, 3.794172326665003*^9}, {3.794172385994478*^9, 
   3.794172387131366*^9}, {3.7941728981927156`*^9, 3.794172905502396*^9}, {
   3.7941730425348997`*^9, 3.794173045851234*^9}, {3.794173136856124*^9, 
   3.79417316254119*^9}, {3.794173209443956*^9, 3.794173212464658*^9}, {
   3.794173252339052*^9, 3.794173253621335*^9}, {3.794173521958745*^9, 
   3.79417353390237*^9}, {3.794173950681872*^9, 3.794173953843504*^9}, {
   3.794174205985489*^9, 3.794174219088291*^9}, 3.794174329222537*^9, {
   3.794174361747723*^9, 3.794174366508113*^9}, {3.794176174667843*^9, 
   3.7941762031844893`*^9}, {3.7941762482572203`*^9, 3.794176252498425*^9}, {
   3.794177986069627*^9, 3.794178052126495*^9}, {3.7941780908080187`*^9, 
   3.7941781124254932`*^9}, {3.7941790103621693`*^9, 3.794179022084486*^9}, {
   3.794179142138288*^9, 3.794179146934855*^9}, {3.7941793175575933`*^9, 
   3.794179323073121*^9}, {3.7941810275356207`*^9, 3.7941810322525043`*^9}, {
   3.7941810830634727`*^9, 3.794181085012424*^9}, {3.7941815067456083`*^9, 
   3.794181608804394*^9}, {3.794182632792459*^9, 3.7941826907642603`*^9}, {
   3.794185677787982*^9, 3.79418574027677*^9}, {3.7941858245958967`*^9, 
   3.79418582574403*^9}, {3.794191909974641*^9, 3.7941919359482927`*^9}, {
   3.794193485456229*^9, 3.794193545543214*^9}, {3.794193612876381*^9, 
   3.79419366669865*^9}, {3.794193770817526*^9, 3.794193782640583*^9}, {
   3.79419381921353*^9, 3.7941938355698967`*^9}, 3.7941939160129128`*^9, {
   3.7941939739896803`*^9, 3.794193975407649*^9}, {3.794194193803187*^9, 
   3.79419421759638*^9}, {3.794194308356838*^9, 3.794194318795109*^9}, {
   3.794194397716799*^9, 3.794194524468079*^9}, {3.794194607871647*^9, 
   3.794194635677518*^9}, {3.794194715787847*^9, 3.794194823440782*^9}, {
   3.79419501128922*^9, 3.7941950375466127`*^9}, 3.794195191723078*^9, {
   3.7941952786247797`*^9, 3.794195283256221*^9}, {3.79419572967416*^9, 
   3.794195767294965*^9}, {3.794195819897848*^9, 3.794195841935625*^9}, {
   3.794196057507801*^9, 3.794196058048418*^9}, {3.7941977331454287`*^9, 
   3.79419773359161*^9}, {3.7941978240823174`*^9, 3.7941978329252787`*^9}, {
   3.794197921049653*^9, 3.794197956505549*^9}, {3.7941980115661497`*^9, 
   3.794198029504871*^9}, 3.794198063081633*^9, {3.794198193664329*^9, 
   3.7941982947612143`*^9}, 3.794200913278247*^9, {3.794200983868866*^9, 
   3.794200985638624*^9}, 3.794206949347975*^9, {3.794302817050199*^9, 
   3.794302957360413*^9}, {3.7943029966193*^9, 3.794303040490744*^9}, {
   3.794303073078678*^9, 3.794303087758334*^9}, {3.7943033276842823`*^9, 
   3.794303328024796*^9}, {3.794303363581959*^9, 3.794303402481442*^9}, {
   3.794322022202524*^9, 3.794322040960223*^9}, {3.794322578895487*^9, 
   3.7943225802085876`*^9}, {3.794322804947178*^9, 3.79432281055826*^9}, 
   3.794358719965518*^9, 3.794358937318491*^9, 3.7943592832883263`*^9, {
   3.7944135950854807`*^9, 
   3.794413603581959*^9}},ExpressionUUID->"8f417bc9-a111-4e5e-9647-\
a9ceb8851b0e"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`ageCriticalDependence$$ = 
    3, $CellContext`ageHospitalizedDependence$$ = 5, $CellContext`country$$ = 
    "United States", $CellContext`daysFromCriticalToRecoveredOrDeceased$$ = 
    6, $CellContext`daysFromInfectedToInfectious$$ = 
    2.8, $CellContext`daysTogoToCriticalCare$$ = 
    6, $CellContext`daysToLeaveHosptialNonCritical$$ = 
    8, $CellContext`daysUntilNotInfectiousOrHospitalized$$ = 
    2.5, $CellContext`fractionOfCriticalDeceased$$ = 
    0.3, $CellContext`initialInfectionImpulse$$ = 
    12.5, $CellContext`medianHospitalizationAge$$ = 65, $CellContext`pC$$ = 
    0.075, $CellContext`pH$$ = 0.175, $CellContext`pPCRH$$ = 
    0.114, $CellContext`pPCRNH$$ = 0.08, $CellContext`r0natural$$ = 3.1, 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`country$$], {
      "United States", "France", "Spain", "Italy"}}, {{
       Hold[$CellContext`initialInfectionImpulse$$], 12.5}, 1, 100}, {{
       Hold[$CellContext`r0natural$$], 3.1}, 2.5, 5}, {{
       Hold[$CellContext`daysFromInfectedToInfectious$$], 2.8}, 1, 10}, {{
       Hold[$CellContext`daysUntilNotInfectiousOrHospitalized$$], 2.5}, 1, 
      10}, {{
       Hold[$CellContext`daysFromCriticalToRecoveredOrDeceased$$], 6}, 1, 
      20}, {{
       Hold[$CellContext`fractionOfCriticalDeceased$$], 0.3}, 0, 1}, {{
       Hold[$CellContext`medianHospitalizationAge$$], 65}, 0, 100}, {{
       Hold[$CellContext`ageCriticalDependence$$], 3}, 0, 100}, {{
       Hold[$CellContext`ageHospitalizedDependence$$], 5}, 0, 100}, {{
       Hold[$CellContext`pH$$], 0.175}, 0, 0.5}, {{
       Hold[$CellContext`pC$$], 0.075}, 0, 0.5}, {{
       Hold[$CellContext`daysToLeaveHosptialNonCritical$$], 8}, 0, 10}, {{
       Hold[$CellContext`pPCRNH$$], 0.08}, 0, 1}, {{
       Hold[$CellContext`pPCRH$$], 0.114}, 0, 1}, {{
       Hold[$CellContext`daysTogoToCriticalCare$$], 6}, 0, 10}}, 
    Typeset`size$$ = {1417., {545.134033203125, 550.865966796875}}, 
    Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = True}, 
    
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`ageCriticalDependence$$ = 
        3, $CellContext`ageHospitalizedDependence$$ = 
        5, $CellContext`country$$ = 
        "United States", $CellContext`daysFromCriticalToRecoveredOrDeceased$$ = 
        6, $CellContext`daysFromInfectedToInfectious$$ = 
        2.8, $CellContext`daysTogoToCriticalCare$$ = 
        6, $CellContext`daysToLeaveHosptialNonCritical$$ = 
        8, $CellContext`daysUntilNotInfectiousOrHospitalized$$ = 
        2.5, $CellContext`fractionOfCriticalDeceased$$ = 
        0.3, $CellContext`initialInfectionImpulse$$ = 
        12.5, $CellContext`medianHospitalizationAge$$ = 65, $CellContext`pC$$ = 
        0.075, $CellContext`pH$$ = 0.175, $CellContext`pPCRH$$ = 
        0.114, $CellContext`pPCRNH$$ = 0.08, $CellContext`r0natural$$ = 3.1}, 
      "ControllerVariables" :> {}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`distance$, $CellContext`t$}, $CellContext`params = \
$CellContext`countryParams[$CellContext`country$$, $CellContext`pC$$, \
$CellContext`pH$$, $CellContext`medianHospitalizationAge$$, \
$CellContext`ageCriticalDependence$$, \
$CellContext`ageHospitalizedDependence$$]; $CellContext`thisCountryData = \
$CellContext`countryData[$CellContext`country$$]; $CellContext`icuCapacity = 
         2 ($CellContext`params["ventalators"]/$CellContext`params[
           "Population"]); $CellContext`distance$[
           Pattern[$CellContext`t$, 
            Blank[]]] := Piecewise[
           $CellContext`countryHistoricalDistancing[$CellContext`country$$, \
$CellContext`t$]]; {$CellContext`sol, $CellContext`evts} = \
$CellContext`CovidModel[$CellContext`r0natural$$, \
$CellContext`daysUntilNotInfectiousOrHospitalized$$, \
$CellContext`daysFromInfectedToInfectious$$, \
$CellContext`daysUntilNotInfectiousOrHospitalized$$, \
$CellContext`daysToLeaveHosptialNonCritical$$, $CellContext`pPCRNH$$, \
$CellContext`pPCRH$$, $CellContext`daysTogoToCriticalCare$$, \
$CellContext`daysFromCriticalToRecoveredOrDeceased$$, \
$CellContext`fractionOfCriticalDeceased$$, 
           $CellContext`params[
           "importtime0"], $CellContext`importlength0, \
$CellContext`initialInfectionImpulse$$, $CellContext`tmax, 
           1 - $CellContext`pH$$ - $CellContext`pC$$, $CellContext`pH$$, \
$CellContext`pC$$, $CellContext`containmentThresholdRatio0, \
$CellContext`icuCapacity, $CellContext`distance$]; $CellContext`events = 
         Association[
           Flatten[$CellContext`evts]]; $CellContext`setDistancingPlot = 
         Plot[
           $CellContext`distance$[$CellContext`t$], {$CellContext`t$, 0, 300},
            PlotRange -> {0, 1}, Frame -> {True, True, False, True}, 
           FrameTicks -> {{{{0, "100%"}, {0.2, "80%"}, {0.4, "60%"}, {
               0.6, "40%"}, {0.8, "20%"}, {1, "0%"}}, {{0, 0}, {
               0.2, 0.2 $CellContext`r0natural0}, {
               0.4, 0.4 $CellContext`r0natural0}, {
               0.6, 0.6 $CellContext`r0natural0}, {
               0.8, 0.8 $CellContext`r0natural0}, {
               1, $CellContext`r0natural0}}}, {$CellContext`dateticks, None}},
            FrameLabel -> {{"Social Distance (%)", "R0"}, {None, None}}, 
           ImageSize -> 475]; $CellContext`deathsPlot = LogPlot[
           Evaluate[
            
            ReplaceAll[$CellContext`params[
              "Population"] $CellContext`Deaq[$CellContext`t$], \
$CellContext`sol]], {$CellContext`t$, 40, 300}, 
           PlotRange -> {1, 0.1 $CellContext`params["Population"]}, 
           Frame -> {True, True, False, False}, 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           ImageSize -> 475, PlotLabel -> 
           Style["Deaths (cumulative)", FontSize -> 18], Epilog -> {
             Point[
              Map[{
                #["day"], 
                Log[
                 #["death"]]}& , 
               
               Select[$CellContext`thisCountryData, #["death"] > 
                0& ]]]}]; $CellContext`progressionPlot = LogPlot[{
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`Eq[$CellContext`t$], \
$CellContext`sol]], 
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`PCR[$CellContext`t$], \
$CellContext`sol]], 
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`Iq[$CellContext`t$], \
$CellContext`sol]], 
            $CellContext`params["Population"], Null}, {$CellContext`t$, 40, 
            300}, Epilog -> {
             Point[
              Map[{
                #["day"], 
                Log[
                 #["positive"]]}& , $CellContext`thisCountryData]]}, 
           PlotRange -> {1, 3 $CellContext`params["Population"]}, 
           Frame -> {True, True, False, False}, PlotLabel -> 
           Style["Case Progression", FontSize -> 18], 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           PlotLegends -> 
           SwatchLegend[{
             "Infected", "PCR Confirmed (cumulative)", "Infectious", 
              "Population"}], ImageSize -> 475]; $CellContext`criticalPlot = 
         Plot[{
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`CCq[$CellContext`t$], \
$CellContext`sol]], 2 $CellContext`params["ventalators"]}, {$CellContext`t$, 
            40, 300}, PlotRange -> {1, $CellContext`params["Population"]/500},
            Frame -> {True, True, False, False}, 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           ImageSize -> 475, PlotLabel -> 
           Style["Need Critical Care", FontSize -> 18], 
           Filling -> {2 -> {{1}, {LightRed, White}}}, PlotLegends -> 
           SwatchLegend[{
             "Critical Care Needed", 
              "ICU capacity (ventalator constrained)"}]]; \
$CellContext`ageDependencyPlot = Plot[{
            $CellContext`infectedCritical[$CellContext`a, \
$CellContext`medianHospitalizationAge$$, $CellContext`pC$$, \
$CellContext`ageCriticalDependence$$], 
            $CellContext`infectedHospitalized[$CellContext`a, \
$CellContext`medianHospitalizationAge$$, $CellContext`pH$$, \
$CellContext`ageHospitalizedDependence$$], 
            $CellContext`noCare[$CellContext`a, \
$CellContext`medianHospitalizationAge$$, $CellContext`pC$$, \
$CellContext`pH$$, $CellContext`ageCriticalDependence$$, \
$CellContext`ageHospitalizedDependence$$]}, {$CellContext`a, 0, 100}, 
           Frame -> {True, True, False, False}, PlotLabel -> 
           Style["Case severity ratios by age", FontSize -> Automatic], 
           PlotLegends -> 
           SwatchLegend[{"Critical", "Hospitalized", "Home Care"}], ImageSize -> 
           200, FrameLabel -> {{"Fraction (%)", None}, {
             "Age (years)", None}}]; $CellContext`summary = Column[{
            Style["Result summary:", Bold], 
            Grid[
             KeyValueMap[Flatten[{
                SlotSequence[1]}]& ][
              Association["Deaths" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`Deaq[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`Deaq[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> 1000}]], "PCR Confirmed" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`PCR[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`PCR[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> 1000}]], "Population Infected" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 PercentForm[
                  ReplaceAll[
                   ReplaceAll[
                    $CellContext`PCR[$CellContext`t$], $CellContext`sol], \
{$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}]], 
                 PercentForm[
                  ReplaceAll[
                   ReplaceAll[
                    $CellContext`PCR[$CellContext`t$], $CellContext`sol], \
{$CellContext`t$ -> 1000}]]], "Fatality Rate" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 PercentForm[
                  ReplaceAll[
                   
                   ReplaceAll[$CellContext`Deaq[$CellContext`t$]/$CellContext`\
PCR[$CellContext`t$], $CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}]], 
                 PercentForm[
                  ReplaceAll[
                   
                   ReplaceAll[$CellContext`Deaq[$CellContext`t$]/$CellContext`\
PCR[$CellContext`t$], $CellContext`sol], {$CellContext`t$ -> 1000}]]], 
               "Date Contained" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 DateString[
                  DatePlus[{2020, 1, 1}, Part[
                    Part[
                    $CellContext`events["containment"], 1], 1] - 1]], 
                 "Not Contained"]]], Alignment -> Left, Spacings -> {2, 1}, 
             Frame -> All, ItemStyle -> "Text"]}]; 
        Grid[{{$CellContext`setDistancingPlot, 
            Column[{
              Style["Demographic parameters:", Bold], 
              Grid[
               KeyValueMap[Flatten[{
                  SlotSequence[1]}]& ][
                (Association[
                "Population" -> #["Population"], "Import Time" -> DateString[
                   DatePlus[{2020, 1, 1}, #["importtime0"] - 1]], 
                 "Ventalators" -> #["ventalators"], 
                 "Probability No Care Needed" -> PercentForm[
                   #["pS"]], "Probability ICU" -> PercentForm[
                   #["pC"]], "Probability Hospitalized (not ICU)" -> 
                 PercentForm[
                   #["pH"]]]& )[$CellContext`params]], Alignment -> Left, 
               Spacings -> {2, 1}, Frame -> All, ItemStyle -> "Text"], 
              Row[{$CellContext`ageDependencyPlot}]}]}, {
            Column[{
              Style["Model Outputs:", Bold], 
              If[
               
               KeyExistsQ[$CellContext`events, 
                "containment"], $CellContext`containedGraphics, \
$CellContext`heardGraphics], 
              If[
               And[
                KeyExistsQ[$CellContext`events, "icu"], 
                Or[
                 Not[
                  KeyExistsQ[$CellContext`events, "containment"]], Part[
                    Part[
                    $CellContext`events["icu"], 1], 1] - Part[
                   Part[
                    $CellContext`events["containment"], 1], 1] <= 
                 0]], $CellContext`icuOvershotTextGraphics, \
$CellContext`icuBelowCapacityGraphics]}]}, {
            Show[$CellContext`deathsPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 
                  Log[1]}, {300, 
                  Log[0.1 $CellContext`params["Population"]]}]}], 
              Graphics[]]], 
            Show[$CellContext`progressionPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 
                  Log[1]}, {300, 
                  Log[
                   $CellContext`params["Population"]]}]}], 
              Graphics[]]]}, {
            Show[$CellContext`criticalPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 1}, {
                 300, $CellContext`params["Population"]/500}]}], 
              Graphics[]]], $CellContext`summary, Null}}]], 
      "Specifications" :> {{$CellContext`country$$, {
         "United States", "France", "Spain", 
          "Italy"}}, {{$CellContext`initialInfectionImpulse$$, 12.5}, 1, 
         100}, {{$CellContext`r0natural$$, 3.1}, 2.5, 
         5}, {{$CellContext`daysFromInfectedToInfectious$$, 2.8}, 1, 
         10}, {{$CellContext`daysUntilNotInfectiousOrHospitalized$$, 2.5}, 1, 
         10}, {{$CellContext`daysFromCriticalToRecoveredOrDeceased$$, 6}, 1, 
         20}, {{$CellContext`fractionOfCriticalDeceased$$, 0.3}, 0, 
         1}, {{$CellContext`medianHospitalizationAge$$, 65}, 0, 
         100}, {{$CellContext`ageCriticalDependence$$, 3}, 0, 
         100}, {{$CellContext`ageHospitalizedDependence$$, 5}, 0, 
         100}, {{$CellContext`pH$$, 0.175}, 0, 
         0.5}, {{$CellContext`pC$$, 0.075}, 0, 
         0.5}, {{$CellContext`daysToLeaveHosptialNonCritical$$, 8}, 0, 
         10}, {{$CellContext`pPCRNH$$, 0.08}, 0, 
         1}, {{$CellContext`pPCRH$$, 0.114}, 0, 
         1}, {{$CellContext`daysTogoToCriticalCare$$, 6}, 0, 10}}, 
      "Options" :> {}, "DefaultOptions" :> {}],
     ImageSizeCache->{1909., {576., 581.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.794198295552127*^9, 3.794198502120043*^9, 3.794198613317561*^9, 
   3.794206576989894*^9, 3.79420696032592*^9, 3.794209509346767*^9, 
   3.794210084691921*^9, 3.7942214547349577`*^9, 3.7942233832381153`*^9, 
   3.79428560740161*^9, 3.794285988701167*^9, 3.794286432888784*^9, 
   3.7942864964977217`*^9, 3.794287099958706*^9, 3.794287690648381*^9, 
   3.794288211884457*^9, 3.794302822429904*^9, {3.7943028570074587`*^9, 
   3.79430288479426*^9}, 3.79430292288494*^9, 3.7943029609861937`*^9, 
   3.7943030063427467`*^9, 3.794303040946939*^9, 3.794303089353797*^9, {
   3.794303387046774*^9, 3.794303403307157*^9}, 3.7943219787562857`*^9, 
   3.794322503613358*^9, 3.794322771383478*^9, 3.7943228142227383`*^9, 
   3.794322892374041*^9, 3.794323022270742*^9, 3.794323263424087*^9, 
   3.7943447664820957`*^9, 3.794358623812118*^9, {3.79435892808224*^9, 
   3.794358938068993*^9}, {3.794359255393566*^9, 3.794359288136552*^9}, 
   3.7943626041103277`*^9, 3.794363231546013*^9, 3.79436326436376*^9, 
   3.794363316722806*^9, 3.794363486060231*^9, 3.79436364922556*^9},
 CellLabel->
  "Out[158]=",ExpressionUUID->"bbe4c50a-55e7-40f2-9729-fdfe4600ab4c"]
}, Open  ]],

Cell["\<\
Now we are going to look at the outbreak state-by-state. This setup fetches \
state-level COVID data from covidtracking.com, and age distribution data from \
Mathematica\[CloseCurlyQuote]s datasets. Age buckets are not totally even, \
but we can just go down to the smallest applicable eg 3 -> 0, 90 -> 85 etc. \
(warning: Because of data fetching it\[CloseCurlyQuote]s somewhat slow)\
\>", "Text",
 CellChangeTimes->{{3.7940887794625797`*^9, 3.794088804742072*^9}, {
  3.794118368348238*^9, 3.794118417711561*^9}, {3.7941420265551023`*^9, 
  3.794142040455536*^9}},ExpressionUUID->"25c53830-e113-4e30-9cf4-\
0ae795214ea4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"distance", ",", "t"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"params", "=", 
       RowBox[{"stateParams", "[", 
        RowBox[{
        "state", ",", "pC0", ",", "pH0", ",", "medianHospitalizationAge0", 
         ",", "ageCriticalDependence0", ",", "ageHospitalizedDependence0"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"thisStateData", "=", 
       RowBox[{"Select", "[", 
        RowBox[{"parsedData", ",", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", "\"\<state\>\"", "]"}], "\[Equal]", "state"}], 
            "&&", 
            RowBox[{
             RowBox[{"#", "[", "\"\<positive\>\"", "]"}], ">", "0"}]}], ")"}],
           "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"icuCapacity", "=", 
       RowBox[{
        RowBox[{"params", "[", "\"\<icuBeds\>\"", "]"}], "/", 
        RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"hospitalCapacity", "=", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"1", "-", 
          RowBox[{"params", "[", "\"\<bedUtilization\>\"", "]"}]}], ")"}], 
        "*", 
        RowBox[{
         RowBox[{"params", "[", "\"\<staffedBeds\>\"", "]"}], "/", 
         RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"hospitalizationData", "=", 
       RowBox[{"stateHospitalizationData", "[", "state", "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"distance", "[", "t_", "]"}], ":=", 
       RowBox[{"Piecewise", "[", 
        RowBox[{
         RowBox[{"stateHistoricalDistancing", "[", 
          RowBox[{"state", ",", "scenario", ",", "t"}], "]"}], ",", "1"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"sol", ",", "evts"}], "}"}], "=", 
       RowBox[{"CovidModel", "[", "\[IndentingNewLine]", 
        RowBox[{
        "r0natural0", ",", "\[IndentingNewLine]", 
         "daysUntilNotInfectiousOrHospitalized0", ",", "\[IndentingNewLine]", 
         "daysFromInfectedToInfectious0", ",", "\[IndentingNewLine]", 
         "daysUntilNotInfectiousOrHospitalized0", ",", "\[IndentingNewLine]", 
         "daysToLeaveHosptialNonCritical0", ",", "\[IndentingNewLine]", 
         "pPCRNH0", ",", "\[IndentingNewLine]", "pPCRH0", ",", 
         "\[IndentingNewLine]", "daysTogoToCriticalCare0", ",", 
         "\[IndentingNewLine]", "daysFromCriticalToRecoveredOrDeceased0", ",",
          "\[IndentingNewLine]", "fractionOfCriticalDeceased0", ",", 
         "\[IndentingNewLine]", 
         RowBox[{"params", "[", "\"\<importtime0\>\"", "]"}], ",", 
         "\[IndentingNewLine]", "importlength0", ",", "\[IndentingNewLine]", 
         "initialInfectionImpulse0", ",", "\[IndentingNewLine]", "tmax", ",", 
         "\[IndentingNewLine]", 
         RowBox[{"params", "[", "\"\<pS\>\"", "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"params", "[", "\"\<pH\>\"", "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"params", "[", "\"\<pC\>\"", "]"}], ",", 
         "\[IndentingNewLine]", "containmentThresholdRatio0", ",", 
         "\[IndentingNewLine]", "icuCapacity", ",", "\[IndentingNewLine]", 
         "distance", ",", "\[IndentingNewLine]", "hospitalCapacity"}], 
        "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"events", "=", 
       RowBox[{"Association", "[", 
        RowBox[{"Flatten", "[", "evts", "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"baseline", "=", 
       RowBox[{"distance", "[", "1", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"make", " ", "plots"}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"setDistancingPlot", "=", 
       RowBox[{"Plot", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"distance", "[", "t", "]"}], "/", "baseline"}], ",", 
         RowBox[{"{", 
          RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"0", ",", "1"}], "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "True"}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "\"\<100%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.2", ",", "\"\<80%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.4", ",", "\"\<60%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.6", ",", "\"\<40%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.8", ",", "\"\<20%\>\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "\"\<0%\>\""}], "}"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "0"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.2", ",", 
                  RowBox[{"0.2", "*", "r0natural0", "*", "baseline"}]}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.4", ",", 
                  RowBox[{"0.4", "*", "r0natural0", "*", "baseline"}]}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.6", ",", 
                  RowBox[{"0.6", "*", "r0natural0", "*", "baseline"}]}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.8", ",", 
                  RowBox[{"0.8", "*", "r0natural0", "*", "baseline"}]}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{"r0natural0", "*", "baseline"}]}], "}"}]}], "}"}]}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameLabel", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"\"\<Social Distance (%)\>\"", ",", "\"\<R0\>\""}], 
             "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"None", ",", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
         RowBox[{"AxesStyle", "\[Rule]", "Thick"}], ",", 
         RowBox[{"FrameTicksStyle", "\[Rule]", 
          RowBox[{"Directive", "[", 
           RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Directive", "[", 
             RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"today", ",", "0"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"today", ",", "1"}], "}"}]}], "}"}], "]"}], ",", 
            RowBox[{"Directive", "[", "Gray", "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{"\"\<Today\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"today", "+", "20"}], ",", "0.8"}], "}"}]}], "]"}]}], 
           "}"}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"deathsPlot", "=", 
       RowBox[{"LogPlot", "[", 
        RowBox[{
         RowBox[{"Evaluate", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
            RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{"0.1", "*", 
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
         RowBox[{"AxesStyle", "\[Rule]", "Thick"}], ",", 
         RowBox[{"FrameTicksStyle", "\[Rule]", 
          RowBox[{"Directive", "[", 
           RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Point", "@", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                  RowBox[{"Log", "[", 
                   RowBox[{"#", "[", "\"\<death\>\"", "]"}], "]"}]}], "}"}], 
                "&"}], "/@", 
               RowBox[{"Select", "[", 
                RowBox[{"thisStateData", ",", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"#", "[", "\"\<death\>\"", "]"}], " ", ">", " ", 
                    "0"}], ")"}], "&"}]}], "]"}]}], ")"}]}], ",", 
            RowBox[{"Directive", "[", 
             RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"today", ",", "0"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"today", ",", 
                 RowBox[{"0.1", "*", 
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], 
                "}"}]}], "}"}], "]"}], ",", 
            RowBox[{"Directive", "[", "Gray", "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{"\"\<Today\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"today", "+", "20"}], ",", 
                RowBox[{"0.8", "*", 
                 RowBox[{"Log", "[", 
                  RowBox[{"0.1", "*", 
                   RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
                  "]"}]}]}], "}"}]}], "]"}]}], "}"}]}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"progressionPlot", "=", 
       RowBox[{"LogPlot", "[", 
        RowBox[{
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"Eq", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"PCR", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"Iq", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
          "\[IndentingNewLine]", "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Point", "@", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                  RowBox[{"Log", "[", 
                   RowBox[{"#", "[", "\"\<positive\>\"", "]"}], "]"}]}], 
                 "}"}], "&"}], "/@", "thisStateData"}], ")"}]}], ",", 
            RowBox[{"Directive", "[", 
             RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"today", ",", 
                 RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"today", ",", 
                 RowBox[{"Log", "[", 
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "]"}]}],
                 "}"}]}], "}"}], "]"}], ",", 
            RowBox[{"Directive", "[", "Gray", "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{"\"\<Today\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"today", "+", "15"}], ",", 
                RowBox[{"0.8", "*", 
                 RowBox[{"Log", "[", 
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}], 
                  "]"}]}]}], "}"}]}], "]"}]}], "}"}]}], ",", "  ", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameTicksStyle", "\[Rule]", 
          RowBox[{"Directive", "[", 
           RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotLegends", "\[Rule]", 
          RowBox[{"Placed", "[", 
           RowBox[{
            RowBox[{"SwatchLegend", "[", 
             RowBox[{"{", 
              RowBox[{
              "\"\<Infected\>\"", ",", "\"\<PCR Confirmed (cumulative)\>\"", 
               ",", "\"\<Infectious\>\"", ",", " ", "\"\<Population\>\""}], 
              "}"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0.7", ",", "0.8"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"0.5", ",", "1"}], "}"}]}], "}"}]}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"criticalPlot", "=", 
       RowBox[{"Plot", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"CCq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
           RowBox[{"params", "[", "\"\<icuBeds\>\"", "]"}]}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
             "500"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Directive", "[", 
             RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"today", ",", "1"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"today", ",", 
                 RowBox[{
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                  "500"}]}], "}"}]}], "}"}], "]"}], ",", 
            RowBox[{"Directive", "[", "Gray", "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{"\"\<Today\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"today", "+", "20"}], ",", 
                RowBox[{"0.8", "*", 
                 RowBox[{
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                  "500"}]}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameTicksStyle", "\[Rule]", 
          RowBox[{"Directive", "[", 
           RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"Filling", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"2", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", "1", "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"LightRed", ",", "White"}], "}"}]}], "}"}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"PlotLegends", "\[Rule]", 
          RowBox[{"Placed", "[", 
           RowBox[{
            RowBox[{"SwatchLegend", "[", 
             RowBox[{"{", 
              RowBox[{
              "\"\<Critical Care Needed\>\"", ",", "\"\<ICU capacity\>\""}], 
              "}"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0.7", ",", "1"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"0.5", ",", "1"}], "}"}]}], "}"}]}], "]"}]}]}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"hospitalPlot", "=", 
       RowBox[{"Plot", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Evaluate", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"HHq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
           RowBox[{
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
            "hospitalCapacity"}]}], "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"PlotRange", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
             "300"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"Frame", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}],
          ",", "\[IndentingNewLine]", 
         RowBox[{"FrameTicks", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Epilog", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Point", "@", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                  RowBox[{"#", "[", "\"\<hospitalizations\>\"", "]"}]}], 
                 "}"}], "&"}], "/@", "hospitalizationData"}], ")"}]}], ",", 
            RowBox[{"Directive", "[", 
             RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"today", ",", "1"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"today", ",", 
                 RowBox[{
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                  "300"}]}], "}"}]}], "}"}], "]"}], ",", 
            RowBox[{"Directive", "[", "Gray", "]"}], ",", 
            RowBox[{"Text", "[", 
             RowBox[{"\"\<Today\>\"", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"today", "+", "20"}], ",", 
                RowBox[{"0.8", "*", 
                 RowBox[{
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                  "300"}]}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"FrameTicksStyle", "\[Rule]", 
          RowBox[{"Directive", "[", 
           RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"Filling", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"2", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", "1", "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"LightRed", ",", "White"}], "}"}]}], "}"}]}], "}"}]}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"PlotLegends", "\[Rule]", 
          RowBox[{"Placed", "[", 
           RowBox[{
            RowBox[{"SwatchLegend", "[", 
             RowBox[{"{", 
              RowBox[{
              "\"\<Hosptial Care Needed\>\"", ",", 
               "\"\<Hospital system capacity\>\""}], "}"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0.7", ",", "1"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"0.5", ",", "1"}], "}"}]}], "}"}]}], "]"}]}]}], 
        "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"summary", "=", 
       RowBox[{"Column", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Result summary:\>\"", ",", "Bold"}], "]"}], ",", " ", 
          
          RowBox[{"Grid", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"KeyValueMap", "[", 
              RowBox[{
               RowBox[{"Flatten", "[", 
                RowBox[{"{", "##", "}"}], "]"}], "&"}], "]"}], "@", 
             RowBox[{"<|", 
              RowBox[{
               RowBox[{"\"\<Deaths\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], " ",
                ",", 
               RowBox[{"\"\<PCR Confirmed\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"PCR", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
                    RowBox[{"PCR", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",",
                "\[IndentingNewLine]", 
               RowBox[{"\"\<Population Infected\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"RSq", "[", "t", "]"}], "+", 
                    RowBox[{"RHq", "[", "t", "]"}], "+", 
                    RowBox[{"RCq", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"RSq", "[", "t", "]"}], "+", 
                    RowBox[{"RHq", "[", "t", "]"}], "+", 
                    RowBox[{"RCq", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",",
                "\[IndentingNewLine]", 
               RowBox[{"\"\<Fatality Rate\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Deaq", "[", "t", "]"}], "/", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"RSq", "[", "t", "]"}], "+", 
                    RowBox[{"RHq", "[", "t", "]"}], "+", 
                    RowBox[{"RCq", "[", "t", "]"}]}], ")"}]}], ")"}], "/.", 
                    "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Deaq", "[", "t", "]"}], "/", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"RSq", "[", "t", "]"}], "+", 
                    RowBox[{"RHq", "[", "t", "]"}], "+", 
                    RowBox[{"RCq", "[", "t", "]"}]}], ")"}]}], ")"}], "/.", 
                    "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",",
                "\[IndentingNewLine]", 
               RowBox[{"\"\<Fatality Rate (PCR)\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Deaq", "[", "t", "]"}], "/", 
                    RowBox[{"PCR", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Deaq", "[", "t", "]"}], "/", 
                    RowBox[{"PCR", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
                   RowBox[{"{", 
                    RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",",
                "\[IndentingNewLine]", 
               RowBox[{"\"\<Date Contained\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"KeyExistsQ", "[", 
                   RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}],
                   ",", 
                  RowBox[{"DateString", "[", 
                   RowBox[{"DatePlus", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], 
                   "]"}], ",", " ", "\"\<Not Contained\>\""}], "]"}]}], ",", 
               "\[IndentingNewLine]", 
               RowBox[{"\"\<Date ICU Over Capacity\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"events", ",", " ", "\"\<icu\>\""}], "]"}], "&&", 
                   
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"events", ",", " ", "\"\<containment\>\""}], 
                    "]"}]}], "||", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<icu\>\"", "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "<=", "0"}]}], 
                    ")"}]}], ",", 
                  RowBox[{"DateString", "[", 
                   RowBox[{"DatePlus", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<icu\>\"", "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], 
                   "]"}], ",", "\"\<ICU Under capacity\>\""}], "]"}]}], ",", 
               "\[IndentingNewLine]", 
               RowBox[{"\"\<Date Hospitals Over Capacity\>\"", "\[Rule]", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"events", ",", " ", "\"\<hospital\>\""}], "]"}], "&&", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"!", 
                    RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"events", ",", " ", "\"\<containment\>\""}], 
                    "]"}]}], "||", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<hospital\>\"", "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "<=", "0"}]}], 
                    ")"}]}], ",", 
                  RowBox[{"DateString", "[", 
                   RowBox[{"DatePlus", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<hospital\>\"", "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], 
                   "]"}], ",", "\"\<Hospitals Under capacity\>\""}], 
                 "]"}]}]}], "|>"}]}], ",", " ", "\[IndentingNewLine]", 
            RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
            RowBox[{"Spacings", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{"2", ",", "1"}], "}"}]}], ",", 
            RowBox[{"Frame", "\[Rule]", "All"}], ",", 
            RowBox[{"ItemStyle", "\[Rule]", "\"\<Text\>\""}]}], "]"}]}], 
         "}"}], "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"organize", " ", "plots", " ", "and", " ", "output"}], " ", 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"Grid", "[", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{"setDistancingPlot", ",", 
           RowBox[{"Column", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{"\"\<Demographic parameters:\>\"", ",", "Bold"}], 
               "]"}], ",", " ", 
              RowBox[{"Grid", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"KeyValueMap", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", 
                    RowBox[{"{", "##", "}"}], "]"}], "&"}], "]"}], "@", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"<|", 
                    RowBox[{
                    RowBox[{"\"\<Population\>\"", "\[Rule]", 
                    RowBox[{"#", "[", "\"\<Population\>\"", "]"}]}], ",", " ", 
                    RowBox[{"\"\<Import Time\>\"", "\[Rule]", 
                    RowBox[{"DateString", "[", 
                    RowBox[{"DatePlus", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
                    RowBox[{
                    RowBox[{"#", "[", "\"\<importtime0\>\"", "]"}], "-", 
                    "1"}]}], "]"}], "]"}]}], ",", 
                    RowBox[{"\"\<R0\>\"", "\[Rule]", 
                    RowBox[{"#", "[", "\"\<R0\>\"", "]"}]}], ",", 
                    RowBox[{"\"\<Ventilators\>\"", "\[Rule]", 
                    RowBox[{"#", "[", "\"\<ventilators\>\"", "]"}]}], ",", 
                    RowBox[{"\"\<Probability No Care Needed\>\"", "\[Rule]", 
                    RowBox[{"PercentForm", "[", 
                    RowBox[{"#", "[", "\"\<pS\>\"", "]"}], "]"}]}], ",", 
                    RowBox[{"\"\<Probability ICU\>\"", "\[Rule]", 
                    RowBox[{"PercentForm", "[", 
                    RowBox[{"#", "[", "\"\<pC\>\"", "]"}], "]"}]}], ",", 
                    RowBox[{
                    "\"\<Probability Hospitalized (not ICU)\>\"", "\[Rule]", 
                    RowBox[{"PercentForm", "[", 
                    RowBox[{"#", "[", "\"\<pH\>\"", "]"}], "]"}]}]}], "|>"}], 
                    "&"}], ")"}], "@", "params"}]}], ",", " ", 
                RowBox[{"Alignment", "\[Rule]", "Left"}], ",", 
                RowBox[{"Spacings", "\[Rule]", 
                 RowBox[{"{", 
                  RowBox[{"2", ",", "1"}], "}"}]}], ",", 
                RowBox[{"Frame", "\[Rule]", "All"}], ",", 
                RowBox[{"ItemStyle", "\[Rule]", "\"\<Text\>\""}]}], "]"}]}], 
             "}"}], "]"}], ","}], "\[IndentingNewLine]", "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"Column", "[", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"\"\<Model Outputs:\>\"", ",", "Bold"}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", "containedGraphics", ",", "heardGraphics"}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"KeyExistsQ", "[", 
                 RowBox[{"events", ",", " ", "\"\<icu\>\""}], "]"}], "&&", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"!", 
                   RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"events", ",", " ", "\"\<containment\>\""}], 
                    "]"}]}], "||", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<icu\>\"", "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "<=", "0"}]}], 
                 ")"}]}], ",", "icuOvershotTextGraphics", ",", 
               "icuBelowCapacityGraphics"}], "]"}]}], "\[IndentingNewLine]", 
            "}"}], "]"}], "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Show", "[", 
            RowBox[{"deathsPlot", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{"0.1", "*", 
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
                    "]"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"Show", "[", 
            RowBox[{"progressionPlot", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], 
                    "]"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], 
          "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Show", "[", 
            RowBox[{"criticalPlot", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", "1"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                    "500"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"Show", "[", 
            RowBox[{"hospitalPlot", ",", " ", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], 
               ",", 
               RowBox[{"Graphics", "[", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", 
                  RowBox[{"Rectangle", "[", 
                   RowBox[{
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", "1"}], "}"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"300", ",", 
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                    "500"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
               RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], 
          "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
         "{", "\[IndentingNewLine]", "summary", "\[IndentingNewLine]", 
          "}"}]}], "}"}], "]"}]}]}], "]"}], "\[IndentingNewLine]", ",", 
   RowBox[{"{", 
    RowBox[{"state", ",", "distancingStates"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"scenario", ",", 
     RowBox[{"{", 
      RowBox[{
      "\"\<scenario1\>\"", ",", "\"\<scenario2\>\"", ",", "\"\<scenario3\>\"",
        ",", "\"\<scenario4\>\""}], "}"}]}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.794112122374679*^9, 3.794112162218183*^9}, {
   3.794112371414092*^9, 3.794112372806271*^9}, {3.794112617584971*^9, 
   3.794112673495741*^9}, {3.794112704743032*^9, 3.794112723555998*^9}, 
   3.794112765587614*^9, {3.794112861380208*^9, 3.794112882656659*^9}, 
   3.794112964726568*^9, {3.794113227950281*^9, 3.794113232417705*^9}, {
   3.794113467191292*^9, 3.794113480894939*^9}, 3.794113535333057*^9, {
   3.794113595112946*^9, 3.794113598548378*^9}, {3.794114143825733*^9, 
   3.794114170833974*^9}, {3.794114278970976*^9, 3.794114355860354*^9}, {
   3.794114555852365*^9, 3.79411458522817*^9}, {3.794115883447261*^9, 
   3.794115884054463*^9}, {3.7941166231870537`*^9, 3.794116699427671*^9}, {
   3.7941168972541323`*^9, 3.79411690084454*^9}, 3.794116935032997*^9, {
   3.794116972153037*^9, 3.794117016541439*^9}, {3.794117123311056*^9, 
   3.79411716274789*^9}, {3.79411719288137*^9, 3.794117244060886*^9}, {
   3.794117612118971*^9, 3.7941176211102953`*^9}, {3.794117653439315*^9, 
   3.794117663372505*^9}, {3.7941197904758244`*^9, 3.794119839108548*^9}, {
   3.794119986556396*^9, 3.794120010325975*^9}, {3.794125944778872*^9, 
   3.79412600086447*^9}, {3.7941260445728207`*^9, 3.7941260925160437`*^9}, {
   3.7941261477758303`*^9, 3.7941262108641768`*^9}, {3.794126340833729*^9, 
   3.79412634136161*^9}, {3.794126481352991*^9, 3.7941265865641623`*^9}, {
   3.7941267004042273`*^9, 3.794126705239813*^9}, {3.794128119392206*^9, 
   3.794128157006937*^9}, {3.794128257316206*^9, 3.794128283479743*^9}, {
   3.794128369466008*^9, 3.794128370303938*^9}, {3.794128727819839*^9, 
   3.794128737334855*^9}, {3.7941305340722523`*^9, 3.79413059126652*^9}, {
   3.794130637167473*^9, 3.794130640911621*^9}, {3.7941307084396544`*^9, 
   3.794130820372457*^9}, {3.794130852368293*^9, 3.794130892134006*^9}, {
   3.794130935771097*^9, 3.794130969417471*^9}, {3.7941311054345217`*^9, 
   3.7941311076618032`*^9}, {3.794131215729927*^9, 3.794131229742721*^9}, {
   3.794131312514954*^9, 3.794131321209835*^9}, {3.794131372428258*^9, 
   3.794131473612537*^9}, {3.7941317371591167`*^9, 3.794131928449203*^9}, {
   3.7941319614328337`*^9, 3.794132026305191*^9}, {3.794132099741562*^9, 
   3.794132100933858*^9}, {3.7941321674109592`*^9, 3.7941322693699017`*^9}, {
   3.79413230566969*^9, 3.7941323121660748`*^9}, {3.794132366202959*^9, 
   3.794132448495475*^9}, {3.7941325006229897`*^9, 3.7941325245689917`*^9}, {
   3.794132601529828*^9, 3.794132612947804*^9}, {3.794132908230404*^9, 
   3.7941329550230017`*^9}, {3.7941330237683372`*^9, 3.794133049087248*^9}, {
   3.794133186124913*^9, 3.79413326022955*^9}, {3.794133349763932*^9, 
   3.79413344907265*^9}, {3.794133687233963*^9, 3.794133687963662*^9}, {
   3.7941337238682613`*^9, 3.7941337949293528`*^9}, {3.794133835470715*^9, 
   3.794133888521772*^9}, {3.794134004811398*^9, 3.794134055875848*^9}, {
   3.794134209907957*^9, 3.794134306649436*^9}, {3.794134339961595*^9, 
   3.794134381908057*^9}, {3.794134475279262*^9, 3.794134489916814*^9}, {
   3.794134634803647*^9, 3.794134649037034*^9}, {3.794134901373674*^9, 
   3.794134913270049*^9}, {3.794134961692567*^9, 3.794134977451764*^9}, {
   3.7941353287924337`*^9, 3.794135426734809*^9}, {3.7941354862790813`*^9, 
   3.7941354968452883`*^9}, {3.794135589892066*^9, 3.794135593043169*^9}, {
   3.794135627445229*^9, 3.794135643212151*^9}, {3.7941358826824017`*^9, 
   3.794135960426982*^9}, {3.794136108928557*^9, 3.7941361421124153`*^9}, 
   3.794136540529035*^9, {3.794137892526577*^9, 3.7941379308943653`*^9}, {
   3.794138084086112*^9, 3.794138183971456*^9}, {3.794138267178266*^9, 
   3.794138361604024*^9}, {3.794138486839386*^9, 3.794138525880481*^9}, {
   3.794138651252405*^9, 3.7941387211949863`*^9}, {3.7941389702662354`*^9, 
   3.7941389844412813`*^9}, {3.794139021092173*^9, 3.794139189562871*^9}, {
   3.794140193889577*^9, 3.7941402482993183`*^9}, {3.794140406085215*^9, 
   3.7941404077932243`*^9}, {3.79414046823472*^9, 3.794140498564637*^9}, {
   3.7941405603858147`*^9, 3.7941405679291763`*^9}, {3.794141609150304*^9, 
   3.794141616720272*^9}, {3.794182244069808*^9, 3.794182261094591*^9}, 
   3.794182325967616*^9, {3.794190558018326*^9, 3.794190608351286*^9}, {
   3.79419074428192*^9, 3.79419076354915*^9}, {3.7941916998159*^9, 
   3.794191710822323*^9}, {3.794191770069133*^9, 3.7941917900051327`*^9}, {
   3.794195112472505*^9, 3.794195121648282*^9}, {3.794200999264325*^9, 
   3.794201084143442*^9}, 3.794206172428852*^9, {3.794206257980571*^9, 
   3.7942062599688377`*^9}, 3.7942069444068403`*^9, {3.794216009668221*^9, 
   3.794216034574128*^9}, {3.7942161587974157`*^9, 3.7942161590334*^9}, {
   3.794216191533242*^9, 3.794216197289009*^9}, {3.794216823280471*^9, 
   3.794216833828768*^9}, {3.794287183556448*^9, 3.794287202650588*^9}, {
   3.79428723885823*^9, 3.794287325751165*^9}, {3.794287725112083*^9, 
   3.7942877280495977`*^9}, {3.794287760407215*^9, 3.7942878299472933`*^9}, 
   3.794288949370666*^9, {3.794288990276231*^9, 3.794289013217885*^9}, {
   3.794289090371995*^9, 3.7942891043694563`*^9}, {3.794294135256523*^9, 
   3.7942941387084637`*^9}, {3.794294220613431*^9, 3.794294369636808*^9}, {
   3.79429441997647*^9, 3.794294533196677*^9}, {3.7942948653382273`*^9, 
   3.794294936742281*^9}, {3.7942950482562447`*^9, 3.794295077204427*^9}, {
   3.7942951751649437`*^9, 3.794295249255402*^9}, {3.7942952804407053`*^9, 
   3.794295290903822*^9}, {3.794295354992971*^9, 3.7942953554810953`*^9}, {
   3.7942983666558113`*^9, 3.794298399629283*^9}, {3.794298431835012*^9, 
   3.794298463095435*^9}, {3.794298576993868*^9, 3.794298696119999*^9}, {
   3.794302171354767*^9, 3.79430219254527*^9}, {3.794302321729113*^9, 
   3.794302333018752*^9}, {3.794302373927948*^9, 3.794302379486422*^9}, {
   3.7943024182537746`*^9, 3.794302534960123*^9}, {3.794302648699484*^9, 
   3.794302660148097*^9}, {3.794303432258665*^9, 3.7943034661361628`*^9}, {
   3.7943035021796627`*^9, 3.794303522983247*^9}, 3.794304148998859*^9, 
   3.794305129101598*^9, {3.7943052642482767`*^9, 3.794305332310563*^9}, {
   3.794305368299758*^9, 3.794305368646426*^9}, {3.794305882494515*^9, 
   3.79430590997644*^9}, {3.794306479884925*^9, 3.79430648761234*^9}, 
   3.794322033193795*^9, {3.794323402376556*^9, 3.794323403355411*^9}, {
   3.794345687138048*^9, 3.794345714008473*^9}, {3.7943553048176327`*^9, 
   3.794355306131392*^9}, {3.794359339172401*^9, 3.794359348019218*^9}, 
   3.7943593783195868`*^9, {3.794413605581169*^9, 
   3.7944136075983267`*^9}},ExpressionUUID->"804b14a1-2ed4-4d4d-8b1f-\
36ff5cc43dd1"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`scenario$$ = 
    "scenario1", $CellContext`state$$ = "CA", Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`state$$], {
      "CA", "CO", "CT", "FL", "GA", "IL", "IN", "LA", "MA", "MI", "NJ", "NY", 
       "OH", "OR", "PA", "SC", "TX", "VA", "VT", "WA", "WI"}}, {
      Hold[$CellContext`scenario$$], {
      "scenario1", "scenario2", "scenario3", "scenario4"}}}, 
    Typeset`size$$ = {972., {606.134033203125, 611.865966796875}}, 
    Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = True}, 
    
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`scenario$$ = 
        "scenario1", $CellContext`state$$ = "CA"}, 
      "ControllerVariables" :> {}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`distance$, $CellContext`t$}, $CellContext`params = \
$CellContext`stateParams[$CellContext`state$$, $CellContext`pC0, \
$CellContext`pH0, $CellContext`medianHospitalizationAge0, \
$CellContext`ageCriticalDependence0, $CellContext`ageHospitalizedDependence0]; \
$CellContext`thisStateData = 
         Select[$CellContext`parsedData, 
           And[#["state"] == $CellContext`state$$, #["positive"] > 
            0]& ]; $CellContext`icuCapacity = $CellContext`params[
           "icuBeds"]/$CellContext`params[
          "Population"]; $CellContext`hospitalCapacity = (
           1 - $CellContext`params[
           "bedUtilization"]) ($CellContext`params[
            "staffedBeds"]/$CellContext`params[
           "Population"]); $CellContext`hospitalizationData = \
$CellContext`stateHospitalizationData[$CellContext`state$$]; \
$CellContext`distance$[
           Pattern[$CellContext`t$, 
            Blank[]]] := Piecewise[
           $CellContext`stateHistoricalDistancing[$CellContext`state$$, \
$CellContext`scenario$$, $CellContext`t$], 
           1]; {$CellContext`sol, $CellContext`evts} = \
$CellContext`CovidModel[$CellContext`r0natural0, \
$CellContext`daysUntilNotInfectiousOrHospitalized0, \
$CellContext`daysFromInfectedToInfectious0, \
$CellContext`daysUntilNotInfectiousOrHospitalized0, \
$CellContext`daysToLeaveHosptialNonCritical0, $CellContext`pPCRNH0, \
$CellContext`pPCRH0, $CellContext`daysTogoToCriticalCare0, \
$CellContext`daysFromCriticalToRecoveredOrDeceased0, \
$CellContext`fractionOfCriticalDeceased0, 
           $CellContext`params[
           "importtime0"], $CellContext`importlength0, \
$CellContext`initialInfectionImpulse0, $CellContext`tmax, 
           $CellContext`params["pS"], 
           $CellContext`params["pH"], 
           $CellContext`params[
           "pC"], $CellContext`containmentThresholdRatio0, \
$CellContext`icuCapacity, $CellContext`distance$, \
$CellContext`hospitalCapacity]; $CellContext`events = Association[
           
           Flatten[$CellContext`evts]]; $CellContext`baseline = \
$CellContext`distance$[1]; $CellContext`setDistancingPlot = 
         Plot[$CellContext`distance$[$CellContext`t$]/$CellContext`baseline, \
{$CellContext`t$, 0, 300}, PlotRange -> {0, 1}, 
           Frame -> {True, True, False, True}, 
           FrameTicks -> {{{{0, "100%"}, {0.2, "80%"}, {0.4, "60%"}, {
               0.6, "40%"}, {0.8, "20%"}, {1, "0%"}}, {{0, 0}, {
               0.2, 0.2 $CellContext`r0natural0 $CellContext`baseline}, {
               0.4, 0.4 $CellContext`r0natural0 $CellContext`baseline}, {
               0.6, 0.6 $CellContext`r0natural0 $CellContext`baseline}, {
               0.8, 0.8 $CellContext`r0natural0 $CellContext`baseline}, {
               1, $CellContext`r0natural0 $CellContext`baseline}}}, \
{$CellContext`dateticks, None}}, 
           FrameLabel -> {{"Social Distance (%)", "R0"}, {None, None}}, 
           ImageSize -> 475, PlotStyle -> Thick, AxesStyle -> Thick, 
           FrameTicksStyle -> Directive[Black, 15], Epilog -> {
             Directive[Gray, Thick, Dashed], 
             Line[{{$CellContext`today, 0}, {$CellContext`today, 1}}], 
             Directive[Gray], 
             Text[
             "Today", {$CellContext`today + 20, 
               0.8}]}]; $CellContext`deathsPlot = LogPlot[
           Evaluate[
            
            ReplaceAll[$CellContext`params[
              "Population"] $CellContext`Deaq[$CellContext`t$], \
$CellContext`sol]], {$CellContext`t$, 0, 300}, 
           PlotRange -> {1, 0.1 $CellContext`params["Population"]}, 
           Frame -> {True, True, False, False}, 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           ImageSize -> 475, PlotStyle -> Thick, AxesStyle -> Thick, 
           FrameTicksStyle -> Directive[Black, 15], Epilog -> {
             Point[
              Map[{
                #["day"], 
                Log[
                 #["death"]]}& , 
               Select[$CellContext`thisStateData, #["death"] > 0& ]]], 
             Directive[Gray, Thick, Dashed], 
             
             Line[{{$CellContext`today, 0}, {$CellContext`today, 
                0.1 $CellContext`params["Population"]}}], 
             Directive[Gray], 
             Text[
             "Today", {$CellContext`today + 20, 0.8 
               Log[0.1 $CellContext`params[
                  "Population"]]}]}]; $CellContext`progressionPlot = 
         LogPlot[{
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`Eq[$CellContext`t$], \
$CellContext`sol]], 
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`PCR[$CellContext`t$], \
$CellContext`sol]], 
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`Iq[$CellContext`t$], \
$CellContext`sol]], 
            $CellContext`params["Population"]}, {$CellContext`t$, 0, 300}, 
           Epilog -> {
             Point[
              Map[{
                #["day"], 
                Log[
                 #["positive"]]}& , $CellContext`thisStateData]], 
             Directive[Gray, Thick, Dashed], 
             Line[{{$CellContext`today, 
                Log[1]}, {$CellContext`today, 
                Log[
                 $CellContext`params["Population"]]}}], 
             Directive[Gray], 
             Text["Today", {$CellContext`today + 15, 0.8 Log[
                 $CellContext`params["Population"]]}]}, PlotRange -> {1, 
             $CellContext`params["Population"]}, 
           Frame -> {True, True, False, False}, PlotStyle -> Thick, 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           FrameTicksStyle -> Directive[Black, 15], PlotLegends -> Placed[
             
             SwatchLegend[{
              "Infected", "PCR Confirmed (cumulative)", "Infectious", 
               "Population"}], {{0.7, 0.8}, {0.5, 1}}], ImageSize -> 
           475]; $CellContext`criticalPlot = Plot[{
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`CCq[$CellContext`t$], \
$CellContext`sol]], 
            $CellContext`params["icuBeds"]}, {$CellContext`t$, 0, 300}, 
           PlotRange -> {1, $CellContext`params["Population"]/500}, 
           Frame -> {True, True, False, False}, 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           ImageSize -> 475, PlotStyle -> Thick, Epilog -> {
             Directive[Gray, Thick, Dashed], 
             
             Line[{{$CellContext`today, 
                1}, {$CellContext`today, $CellContext`params["Population"]/
                500}}], 
             Directive[Gray], 
             Text[
             "Today", {$CellContext`today + 20, 
               0.8 ($CellContext`params["Population"]/500)}]}, 
           FrameTicksStyle -> Directive[Black, 15], 
           Filling -> {2 -> {{1}, {LightRed, White}}}, PlotLegends -> Placed[
             
             SwatchLegend[{"Critical Care Needed", "ICU capacity"}], {{
              0.7, 1}, {0.5, 1}}]]; $CellContext`hospitalPlot = Plot[{
            Evaluate[
             
             ReplaceAll[$CellContext`params[
               "Population"] $CellContext`HHq[$CellContext`t$], \
$CellContext`sol]], $CellContext`params[
             "Population"] $CellContext`hospitalCapacity}, {$CellContext`t$, 
            0, 300}, PlotRange -> {1, $CellContext`params["Population"]/300}, 
           Frame -> {True, True, False, False}, 
           FrameTicks -> {{Automatic, None}, {$CellContext`dateticks, None}}, 
           ImageSize -> 475, PlotStyle -> Thick, Epilog -> {
             Point[
              Map[{
                #["day"], 
                #["hospitalizations"]}& , $CellContext`hospitalizationData]], 
             
             Directive[Gray, Thick, Dashed], 
             
             Line[{{$CellContext`today, 
                1}, {$CellContext`today, $CellContext`params["Population"]/
                300}}], 
             Directive[Gray], 
             Text[
             "Today", {$CellContext`today + 20, 
               0.8 ($CellContext`params["Population"]/300)}]}, 
           FrameTicksStyle -> Directive[Black, 15], 
           Filling -> {2 -> {{1}, {LightRed, White}}}, PlotLegends -> Placed[
             
             SwatchLegend[{
              "Hosptial Care Needed", "Hospital system capacity"}], {{
              0.7, 1}, {0.5, 1}}]]; $CellContext`summary = Column[{
            Style["Result summary:", Bold], 
            Grid[
             KeyValueMap[Flatten[{
                SlotSequence[1]}]& ][
              Association["Deaths" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`Deaq[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`Deaq[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> 1000}]], "PCR Confirmed" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`PCR[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`params[
                    "Population"] $CellContext`PCR[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> 1000}]], "Population Infected" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`RSq[$CellContext`t$] + \
$CellContext`RHq[$CellContext`t$] + $CellContext`RCq[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`RSq[$CellContext`t$] + \
$CellContext`RHq[$CellContext`t$] + $CellContext`RCq[$CellContext`t$], \
$CellContext`sol], {$CellContext`t$ -> 1000}]], "Fatality Rate" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`Deaq[$CellContext`t$]/($CellContext`\
RSq[$CellContext`t$] + $CellContext`RHq[$CellContext`t$] + \
$CellContext`RCq[$CellContext`t$]), $CellContext`sol], {$CellContext`t$ -> 
                   Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`Deaq[$CellContext`t$]/($CellContext`\
RSq[$CellContext`t$] + $CellContext`RHq[$CellContext`t$] + \
$CellContext`RCq[$CellContext`t$]), $CellContext`sol], {$CellContext`t$ -> 
                   1000}]], "Fatality Rate (PCR)" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`Deaq[$CellContext`t$]/$CellContext`\
PCR[$CellContext`t$], $CellContext`sol], {$CellContext`t$ -> Part[
                    Part[
                    $CellContext`events["containment"], 1], 1]}], 
                 ReplaceAll[
                  
                  ReplaceAll[$CellContext`Deaq[$CellContext`t$]/$CellContext`\
PCR[$CellContext`t$], $CellContext`sol], {$CellContext`t$ -> 1000}]], 
               "Date Contained" -> If[
                 KeyExistsQ[$CellContext`events, "containment"], 
                 DateString[
                  DatePlus[{2020, 1, 1}, Part[
                    Part[
                    $CellContext`events["containment"], 1], 1] - 1]], 
                 "Not Contained"], "Date ICU Over Capacity" -> If[
                 And[
                  KeyExistsQ[$CellContext`events, "icu"], 
                  Or[
                   Not[
                    KeyExistsQ[$CellContext`events, "containment"]], Part[
                    Part[
                    $CellContext`events["icu"], 1], 1] - Part[
                    Part[
                    $CellContext`events["containment"], 1], 1] <= 0]], 
                 DateString[
                  DatePlus[{2020, 1, 1}, Part[
                    Part[
                    $CellContext`events["icu"], 1], 1] - 1]], 
                 "ICU Under capacity"], "Date Hospitals Over Capacity" -> If[
                 And[
                  KeyExistsQ[$CellContext`events, "hospital"], 
                  Or[
                   Not[
                    KeyExistsQ[$CellContext`events, "containment"]], Part[
                    Part[
                    $CellContext`events["hospital"], 1], 1] - Part[
                    Part[
                    $CellContext`events["containment"], 1], 1] <= 0]], 
                 DateString[
                  DatePlus[{2020, 1, 1}, Part[
                    Part[
                    $CellContext`events["hospital"], 1], 1] - 1]], 
                 "Hospitals Under capacity"]]], Alignment -> Left, 
             Spacings -> {2, 1}, Frame -> All, ItemStyle -> "Text"]}]; 
        Grid[{{$CellContext`setDistancingPlot, 
            Column[{
              Style["Demographic parameters:", Bold], 
              Grid[
               KeyValueMap[Flatten[{
                  SlotSequence[1]}]& ][
                (Association[
                "Population" -> #["Population"], "Import Time" -> DateString[
                   DatePlus[{2020, 1, 1}, #["importtime0"] - 1]], 
                 "R0" -> #["R0"], "Ventalators" -> #["ventalators"], 
                 "Probability No Care Needed" -> PercentForm[
                   #["pS"]], "Probability ICU" -> PercentForm[
                   #["pC"]], "Probability Hospitalized (not ICU)" -> 
                 PercentForm[
                   #["pH"]]]& )[$CellContext`params]], Alignment -> Left, 
               Spacings -> {2, 1}, Frame -> All, ItemStyle -> "Text"]}], 
            Null}, {
            Column[{
              Style["Model Outputs:", Bold], 
              If[
               
               KeyExistsQ[$CellContext`events, 
                "containment"], $CellContext`containedGraphics, \
$CellContext`heardGraphics], 
              If[
               And[
                KeyExistsQ[$CellContext`events, "icu"], 
                Or[
                 Not[
                  KeyExistsQ[$CellContext`events, "containment"]], Part[
                    Part[
                    $CellContext`events["icu"], 1], 1] - Part[
                   Part[
                    $CellContext`events["containment"], 1], 1] <= 
                 0]], $CellContext`icuOvershotTextGraphics, \
$CellContext`icuBelowCapacityGraphics]}]}, {
            Show[$CellContext`deathsPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 
                  Log[1]}, {300, 
                  Log[0.1 $CellContext`params["Population"]]}]}], 
              Graphics[]]], 
            Show[$CellContext`progressionPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 
                  Log[1]}, {300, 
                  Log[
                   $CellContext`params["Population"]]}]}], 
              Graphics[]]]}, {
            Show[$CellContext`criticalPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 1}, {
                 300, $CellContext`params["Population"]/500}]}], 
              Graphics[]]], 
            Show[$CellContext`hospitalPlot, 
             If[
              KeyExistsQ[$CellContext`events, "containment"], 
              Graphics[{LightGray, 
                Rectangle[{
                  Part[
                   Part[
                    $CellContext`events["containment"], 1], 1], 1}, {
                 300, $CellContext`params["Population"]/500}]}], 
              Graphics[]]]}, {$CellContext`summary}}]], 
      "Specifications" :> {{$CellContext`state$$, {
         "CA", "CO", "CT", "FL", "GA", "IL", "IN", "LA", "MA", "MI", "NJ", 
          "NY", "OH", "OR", "PA", "SC", "TX", "VA", "VT", "WA", 
          "WI"}}, {$CellContext`scenario$$, {
         "scenario1", "scenario2", "scenario3", "scenario4"}}}, 
      "Options" :> {}, "DefaultOptions" :> {}],
     ImageSizeCache->{1017., {664., 670.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{{3.7943063199371347`*^9, 3.7943063262533493`*^9}, 
   3.7943067006297617`*^9, 3.794307174323782*^9, 3.794307446266397*^9, 
   3.794323368328381*^9, 3.7943234046932993`*^9, 3.7943457257554703`*^9, 
   3.794359310733281*^9, {3.7943593609729156`*^9, 3.794359379747785*^9}, 
   3.794363274431923*^9, 3.794363660273985*^9, 3.7943637009678392`*^9, 
   3.794363795771682*^9, 3.794367241557005*^9},
 CellLabel->
  "Out[609]=",ExpressionUUID->"cc2390de-c3a2-4be5-93ea-d7e08dc3b2a3"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
  "to", " ", "deprecate", " ", "since", " ", "we", " ", "are", " ", "going", 
   " ", "to", " ", "create", " ", "the", " ", "plot", " ", "images", " ", 
   "on", " ", "the", " ", "frontend"}], " ", "*)"}]], "Input",
 CellLabel->
  "In[674]:=",ExpressionUUID->"b407d622-bd82-458b-93ee-67d968657022"],

Cell[BoxData[
 RowBox[{
  RowBox[{"statePlots", "[", 
   RowBox[{"state_", ",", "scenario_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"distance", ",", "t"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"params", "=", 
      RowBox[{"stateParams", "[", 
       RowBox[{
       "state", ",", "pC0", ",", "pH0", ",", "medianHospitalizationAge0", ",",
         "ageCriticalDependence0", ",", "ageHospitalizedDependence0"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"thisStateData", "=", 
      RowBox[{"Select", "[", 
       RowBox[{"parsedData", ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", "\"\<state\>\"", "]"}], "\[Equal]", "state"}], "&&", 
           RowBox[{
            RowBox[{"#", "[", "\"\<positive\>\"", "]"}], ">", "0"}]}], ")"}], 
         "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"icuCapacity", "=", 
      RowBox[{
       RowBox[{"params", "[", "\"\<icuBeds\>\"", "]"}], "/", 
       RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"hospitalCapacity", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"1", "-", 
         RowBox[{"params", "[", "\"\<bedUtilization\>\"", "]"}]}], ")"}], "*", 
       RowBox[{
        RowBox[{"params", "[", "\"\<staffedBeds\>\"", "]"}], "/", 
        RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"distance", "[", "t_", "]"}], ":=", 
      RowBox[{"Piecewise", "[", 
       RowBox[{
        RowBox[{"stateHistoricalDistancing", "[", 
         RowBox[{"state", ",", "scenario", ",", "t"}], "]"}], ",", "1"}], 
       "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"sol", ",", "evts"}], "}"}], "=", 
      RowBox[{"CovidModel", "[", "\[IndentingNewLine]", 
       RowBox[{
       "r0natural0", ",", "\[IndentingNewLine]", 
        "daysUntilNotInfectiousOrHospitalized0", ",", "\[IndentingNewLine]", 
        "daysFromInfectedToInfectious0", ",", "\[IndentingNewLine]", 
        "daysUntilNotInfectiousOrHospitalized0", ",", "\[IndentingNewLine]", 
        "daysToLeaveHosptialNonCritical0", ",", "\[IndentingNewLine]", 
        "pPCRNH0", ",", "\[IndentingNewLine]", "pPCRH0", ",", 
        "\[IndentingNewLine]", "daysTogoToCriticalCare0", ",", 
        "\[IndentingNewLine]", "daysFromCriticalToRecoveredOrDeceased0", ",", 
        "\[IndentingNewLine]", "fractionOfCriticalDeceased0", ",", 
        "\[IndentingNewLine]", 
        RowBox[{"params", "[", "\"\<importtime0\>\"", "]"}], ",", 
        "\[IndentingNewLine]", "importlength0", ",", "\[IndentingNewLine]", 
        "initialInfectionImpulse0", ",", "\[IndentingNewLine]", "tmax", ",", 
        "\[IndentingNewLine]", 
        RowBox[{"params", "[", "\"\<pS\>\"", "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"params", "[", "\"\<pH\>\"", "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"params", "[", "\"\<pC\>\"", "]"}], ",", 
        "\[IndentingNewLine]", "containmentThresholdRatio0", ",", 
        "\[IndentingNewLine]", "icuCapacity", ",", "\[IndentingNewLine]", 
        "distance", ",", "\[IndentingNewLine]", "hospitalCapacity"}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"events", "=", 
      RowBox[{"Association", "[", 
       RowBox[{"Flatten", "[", "evts", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"baseline", "=", 
      RowBox[{"distance", "[", "1", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"make", " ", "plots"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"setDistancingPlot", "=", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"distance", "[", "t", "]"}], "/", "baseline"}], ",", 
        RowBox[{"{", 
         RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"0", ",", "1"}], "}"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Frame", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"True", ",", "True", ",", "False", ",", "True"}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"FrameTicks", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "\"\<100%\>\""}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0.2", ",", "\"\<80%\>\""}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0.4", ",", "\"\<60%\>\""}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0.6", ",", "\"\<40%\>\""}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0.8", ",", "\"\<20%\>\""}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"1", ",", "\"\<0%\>\""}], "}"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "0"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0.2", ",", 
                 RowBox[{"0.2", "*", "r0natural0", "*", "baseline"}]}], "}"}],
                ",", 
               RowBox[{"{", 
                RowBox[{"0.4", ",", 
                 RowBox[{"0.4", "*", "r0natural0", "*", "baseline"}]}], "}"}],
                ",", 
               RowBox[{"{", 
                RowBox[{"0.6", ",", 
                 RowBox[{"0.6", "*", "r0natural0", "*", "baseline"}]}], "}"}],
                ",", 
               RowBox[{"{", 
                RowBox[{"0.8", ",", 
                 RowBox[{"0.8", "*", "r0natural0", "*", "baseline"}]}], "}"}],
                ",", 
               RowBox[{"{", 
                RowBox[{"1", ",", 
                 RowBox[{"r0natural0", "*", "baseline"}]}], "}"}]}], "}"}]}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"FrameLabel", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"\"\<Social Distance (%)\>\"", ",", "\"\<R0\>\""}], "}"}],
            ",", 
           RowBox[{"{", 
            RowBox[{"None", ",", "None"}], "}"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
        RowBox[{"AxesStyle", "\[Rule]", "Thick"}], ",", 
        RowBox[{"FrameTicksStyle", "\[Rule]", 
         RowBox[{"Directive", "[", 
          RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Epilog", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Directive", "[", 
            RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"today", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"today", ",", "1"}], "}"}]}], "}"}], "]"}], ",", 
           RowBox[{"Directive", "[", "Gray", "]"}], ",", 
           RowBox[{"Text", "[", 
            RowBox[{"\"\<Today\>\"", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"today", "+", "20"}], ",", "0.8"}], "}"}]}], "]"}]}], 
          "}"}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"deathsPlot", "=", 
      RowBox[{"LogPlot", "[", 
       RowBox[{
        RowBox[{"Evaluate", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
           RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"1", ",", 
           RowBox[{"0.1", "*", 
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"Frame", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"FrameTicks", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", 
        RowBox[{"AxesStyle", "\[Rule]", "Thick"}], ",", 
        RowBox[{"FrameTicksStyle", "\[Rule]", 
         RowBox[{"Directive", "[", 
          RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Epilog", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Point", "@", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                 RowBox[{"Log", "[", 
                  RowBox[{"#", "[", "\"\<death\>\"", "]"}], "]"}]}], "}"}], 
               "&"}], "/@", 
              RowBox[{"Select", "[", 
               RowBox[{"thisStateData", ",", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"#", "[", "\"\<death\>\"", "]"}], " ", ">", " ", 
                   "0"}], ")"}], "&"}]}], "]"}]}], ")"}]}], ",", 
           RowBox[{"Directive", "[", 
            RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"today", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"today", ",", 
                RowBox[{"0.1", "*", 
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}]}], 
               "}"}]}], "}"}], "]"}], ",", 
           RowBox[{"Directive", "[", "Gray", "]"}], ",", 
           RowBox[{"Text", "[", 
            RowBox[{"\"\<Today\>\"", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"today", "+", "20"}], ",", 
               RowBox[{"0.8", "*", 
                RowBox[{"Log", "[", 
                 RowBox[{"0.1", "*", 
                  RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
                 "]"}]}]}], "}"}]}], "]"}]}], "}"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"progressionPlot", "=", 
      RowBox[{"LogPlot", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Evaluate", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
             RowBox[{"(", 
              RowBox[{"Eq", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"Evaluate", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
             RowBox[{"(", 
              RowBox[{"PCR", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"Evaluate", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
             RowBox[{"(", 
              RowBox[{"Iq", "[", "t", "]"}], ")"}]}], "/.", "sol"}], "]"}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
         "\[IndentingNewLine]", "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
        RowBox[{"Epilog", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Point", "@", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                 RowBox[{"Log", "[", 
                  RowBox[{"#", "[", "\"\<positive\>\"", "]"}], "]"}]}], "}"}],
                "&"}], "/@", "thisStateData"}], ")"}]}], ",", 
           RowBox[{"Directive", "[", 
            RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"today", ",", 
                RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"today", ",", 
                RowBox[{"Log", "[", 
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "]"}]}], 
               "}"}]}], "}"}], "]"}], ",", 
           RowBox[{"Directive", "[", "Gray", "]"}], ",", 
           RowBox[{"Text", "[", 
            RowBox[{"\"\<Today\>\"", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"today", "+", "15"}], ",", 
               RowBox[{"0.8", "*", 
                RowBox[{"Log", "[", 
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}], 
                 "]"}]}]}], "}"}]}], "]"}]}], "}"}]}], ",", "  ", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"1", ",", 
           RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], "}"}]}], ",",
         "\[IndentingNewLine]", 
        RowBox[{"Frame", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", "\[IndentingNewLine]", 
        RowBox[{"FrameTicks", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"FrameTicksStyle", "\[Rule]", 
         RowBox[{"Directive", "[", 
          RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotLegends", "\[Rule]", 
         RowBox[{"Placed", "[", 
          RowBox[{
           RowBox[{"SwatchLegend", "[", 
            RowBox[{"{", 
             RowBox[{
             "\"\<Infected\>\"", ",", "\"\<PCR Confirmed (cumulative)\>\"", 
              ",", "\"\<Infectious\>\"", ",", " ", "\"\<Population\>\""}], 
             "}"}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0.7", ",", "0.8"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"0.5", ",", "1"}], "}"}]}], "}"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", "475"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"criticalPlot", "=", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Evaluate", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
             RowBox[{"CCq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
          RowBox[{"params", "[", "\"\<icuBeds\>\"", "]"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"1", ",", 
           RowBox[{
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
            "500"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Frame", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"FrameTicks", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Epilog", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Directive", "[", 
            RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"today", ",", "1"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"today", ",", 
                RowBox[{
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                 "500"}]}], "}"}]}], "}"}], "]"}], ",", 
           RowBox[{"Directive", "[", "Gray", "]"}], ",", 
           RowBox[{"Text", "[", 
            RowBox[{"\"\<Today\>\"", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"today", "+", "20"}], ",", 
               RowBox[{"0.8", "*", 
                RowBox[{
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                 "500"}]}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"FrameTicksStyle", "\[Rule]", 
         RowBox[{"Directive", "[", 
          RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Filling", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"2", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", "1", "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"LightRed", ",", "White"}], "}"}]}], "}"}]}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"PlotLegends", "\[Rule]", 
         RowBox[{"Placed", "[", 
          RowBox[{
           RowBox[{"SwatchLegend", "[", 
            RowBox[{"{", 
             RowBox[{
             "\"\<Critical Care Needed\>\"", ",", "\"\<ICU capacity\>\""}], 
             "}"}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0.7", ",", "1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"0.5", ",", "1"}], "}"}]}], "}"}]}], "]"}]}]}], "]"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"hospitalPlot", "=", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Evaluate", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
             RowBox[{"HHq", "[", "t", "]"}]}], "/.", "sol"}], "]"}], ",", 
          RowBox[{
           RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
           "hospitalCapacity"}]}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"t", ",", "0", ",", "300"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"1", ",", 
           RowBox[{
            RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
            "300"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Frame", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"FrameTicks", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"dateticks", ",", " ", "None"}], "}"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", "475"}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotStyle", "\[Rule]", "Thick"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Epilog", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Point", "@", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"#", "[", "\"\<day\>\"", "]"}], ",", 
                 RowBox[{"#", "[", "\"\<hospitalizations\>\"", "]"}]}], "}"}],
                "&"}], "/@", "hospitalizationData"}], ")"}]}], ",", 
           RowBox[{"Directive", "[", 
            RowBox[{"Gray", ",", "Thick", ",", "Dashed"}], "]"}], ",", 
           RowBox[{"Line", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"today", ",", "1"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"today", ",", 
                RowBox[{
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                 "300"}]}], "}"}]}], "}"}], "]"}], ",", 
           RowBox[{"Directive", "[", "Gray", "]"}], ",", 
           RowBox[{"Text", "[", 
            RowBox[{"\"\<Today\>\"", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"today", "+", "20"}], ",", 
               RowBox[{"0.8", "*", 
                RowBox[{
                 RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                 "300"}]}]}], "}"}]}], "]"}]}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"FrameTicksStyle", "\[Rule]", 
         RowBox[{"Directive", "[", 
          RowBox[{"Black", ",", "15"}], "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"Filling", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"2", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", "1", "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"LightRed", ",", "White"}], "}"}]}], "}"}]}], "}"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"PlotLegends", "\[Rule]", 
         RowBox[{"Placed", "[", 
          RowBox[{
           RowBox[{"SwatchLegend", "[", 
            RowBox[{"{", 
             RowBox[{
             "\"\<Hosptial Care Needed\>\"", ",", 
              "\"\<Hospital system capacity\>\""}], "}"}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0.7", ",", "1"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"0.5", ",", "1"}], "}"}]}], "}"}]}], "]"}]}]}], "]"}]}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"summary", "=", 
      RowBox[{"<|", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"\"\<Deaths\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyExistsQ", "[", 
            RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", 
              RowBox[{
               RowBox[{
                RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"Deaq", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], " ", ",", 
        RowBox[{"\"\<PCR Confirmed\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyExistsQ", "[", 
            RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"PCR", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", 
              RowBox[{
               RowBox[{
                RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "*", 
              RowBox[{"PCR", "[", "t", "]"}]}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Population Infected\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyExistsQ", "[", 
            RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"RSq", "[", "t", "]"}], "+", 
               RowBox[{"RHq", "[", "t", "]"}], "+", 
               RowBox[{"RCq", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", 
              RowBox[{
               RowBox[{
                RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"RSq", "[", "t", "]"}], "+", 
               RowBox[{"RHq", "[", "t", "]"}], "+", 
               RowBox[{"RCq", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Fatality Rate\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyExistsQ", "[", 
            RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Deaq", "[", "t", "]"}], "/", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"RSq", "[", "t", "]"}], "+", 
                 RowBox[{"RHq", "[", "t", "]"}], "+", 
                 RowBox[{"RCq", "[", "t", "]"}]}], ")"}]}], ")"}], "/.", 
             "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", 
              RowBox[{
               RowBox[{
                RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Deaq", "[", "t", "]"}], "/", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"RSq", "[", "t", "]"}], "+", 
                 RowBox[{"RHq", "[", "t", "]"}], "+", 
                 RowBox[{"RCq", "[", "t", "]"}]}], ")"}]}], ")"}], "/.", 
             "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Fatality Rate (PCR)\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyExistsQ", "[", 
            RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Deaq", "[", "t", "]"}], "/", 
               RowBox[{"PCR", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", 
              RowBox[{
               RowBox[{
                RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ",", " ", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Deaq", "[", "t", "]"}], "/", 
               RowBox[{"PCR", "[", "t", "]"}]}], ")"}], "/.", "sol"}], "/.", 
            RowBox[{"{", 
             RowBox[{"t", "\[Rule]", "1000"}], "}"}]}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Date Contained\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"KeyExistsQ", "[", 
            RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
           RowBox[{"DateString", "[", 
            RowBox[{"DatePlus", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], "]"}], 
           ",", " ", "\"\<Not Contained\>\""}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Date ICU Over Capacity\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"KeyExistsQ", "[", 
             RowBox[{"events", ",", " ", "\"\<icu\>\""}], "]"}], "&&", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"!", 
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}]}], 
              "||", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"events", "[", "\"\<icu\>\"", "]"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], "-", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "<=", "0"}]}], 
             ")"}]}], ",", 
           RowBox[{"DateString", "[", 
            RowBox[{"DatePlus", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"events", "[", "\"\<icu\>\"", "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], "]"}], 
           ",", "\"\<ICU Under capacity\>\""}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Date Hospitals Over Capacity\>\"", "\[Rule]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"KeyExistsQ", "[", 
             RowBox[{"events", ",", " ", "\"\<hospital\>\""}], "]"}], "&&", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"!", 
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}]}], 
              "||", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"events", "[", "\"\<hospital\>\"", "]"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], "-", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "<=", "0"}]}], 
             ")"}]}], ",", 
           RowBox[{"DateString", "[", 
            RowBox[{"DatePlus", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"2020", ",", "1", ",", "1"}], "}"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"events", "[", "\"\<hospital\>\"", "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "]"}], "]"}], 
           ",", "\"\<Hospitals Under capacity\>\""}], "]"}]}]}], "|>"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"Association", "[", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"\"\<Distancing\>\"", "->", "setDistancingPlot"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<Demographics\>\"", "\[Rule]", "params"}], ",", 
        RowBox[{"\"\<Deaths\>\"", "->", 
         RowBox[{"Show", "[", 
          RowBox[{"deathsPlot", ",", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
             RowBox[{"Graphics", "[", 
              RowBox[{"{", 
               RowBox[{"LightGray", ",", 
                RowBox[{"Rectangle", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"300", ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{"0.1", "*", 
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}]}], 
                    "]"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
             RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], ",", 
        "               ", 
        RowBox[{"\"\<Progression\>\"", "->", 
         RowBox[{"Show", "[", 
          RowBox[{"progressionPlot", ",", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
             RowBox[{"Graphics", "[", 
              RowBox[{"{", 
               RowBox[{"LightGray", ",", 
                RowBox[{"Rectangle", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"Log", "[", "1", "]"}]}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"300", ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], 
                    "]"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
             RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], ",", 
        RowBox[{"\"\<Hospitals\>\"", "\[Rule]", 
         RowBox[{"Show", "[", 
          RowBox[{"hospitalPlot", ",", " ", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
             RowBox[{"Graphics", "[", 
              RowBox[{"{", 
               RowBox[{"LightGray", ",", 
                RowBox[{"Rectangle", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", "1"}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"300", ",", 
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                    "500"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
             RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], ",", 
        RowBox[{"\"\<ICU\>\"", "->", 
         RowBox[{"Show", "[", 
          RowBox[{"criticalPlot", ",", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"events", ",", " ", "\"\<containment\>\""}], "]"}], ",", 
             RowBox[{"Graphics", "[", 
              RowBox[{"{", 
               RowBox[{"LightGray", ",", 
                RowBox[{"Rectangle", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"events", "[", "\"\<containment\>\"", "]"}], "[", 
                    
                    RowBox[{"[", "1", "]"}], "]"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", "1"}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"300", ",", 
                    RowBox[{
                    RowBox[{"params", "[", "\"\<Population\>\"", "]"}], "/", 
                    "500"}]}], "}"}]}], "]"}]}], "}"}], "]"}], ",", 
             RowBox[{"Graphics", "[", "]"}]}], "]"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", "               ", 
        RowBox[{"\"\<Summary\>\"", "->", "summary"}]}], "}"}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.7942067191816187`*^9, 3.794206928914476*^9}, {
   3.794206994498679*^9, 3.794207023432767*^9}, {3.794213342906083*^9, 
   3.794213363094747*^9}, {3.794213431465626*^9, 3.794213448048517*^9}, {
   3.794216910318667*^9, 3.79421692622885*^9}, {3.7942180113835907`*^9, 
   3.794218012473205*^9}, {3.794223156110817*^9, 3.794223169241508*^9}, {
   3.7942268556008987`*^9, 3.79422689584867*^9}, {3.794228474840493*^9, 
   3.794228500197213*^9}, {3.7942285327036057`*^9, 3.794228554292642*^9}, {
   3.794228618755616*^9, 3.794228629207222*^9}, {3.794228665608204*^9, 
   3.794228703709469*^9}, {3.794228800582925*^9, 3.794228897129019*^9}, {
   3.7942874414708776`*^9, 3.7942874455638514`*^9}, {3.794288540087369*^9, 
   3.794288540680957*^9}, {3.794288793221953*^9, 3.7942887960248404`*^9}, {
   3.794288909877635*^9, 3.794288920272461*^9}, 3.79428902796334*^9, {
   3.794289500956675*^9, 3.794289505940415*^9}, {3.7942953656973543`*^9, 
   3.7942954474663*^9}, {3.7943054906662817`*^9, 3.794305504160976*^9}, {
   3.794308942290307*^9, 3.794308951729864*^9}, {3.794309134102919*^9, 
   3.794309136988126*^9}, 3.7943220352490387`*^9, {3.794323655263709*^9, 
   3.7943236558631697`*^9}, 3.794345721800173*^9, 3.7943552156343613`*^9, {
   3.794355249182415*^9, 3.794355295196492*^9}, 3.79435563050566*^9, 
   3.794359343301776*^9, 3.794359383896535*^9},
 CellLabel->
  "In[176]:=",ExpressionUUID->"75e1263f-cc9d-40e7-9cdd-3c2466656987"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.7943679207651577`*^9, 
  3.7943679561228113`*^9}},ExpressionUUID->"2056ff86-2202-4cd3-a8b0-\
6bd4e0617dc5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario1/Distancing.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", 
       "\"\<Distancing\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario2/Distancing.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario2\>\""}], "]"}], "[", 
       "\"\<Distancing\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario3/Distancing.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario3\>\""}], "]"}], "[", 
       "\"\<Distancing\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario4/Distancing.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario4\>\""}], "]"}], "[", 
       "\"\<Distancing\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario1/ICU.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", "\"\<ICU\>\"", 
       "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario2/ICU.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario2\>\""}], "]"}], "[", "\"\<ICU\>\"", 
       "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario3/ICU.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario3\>\""}], "]"}], "[", "\"\<ICU\>\"", 
       "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario4/ICU.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario4\>\""}], "]"}], "[", "\"\<ICU\>\"", 
       "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario1/Hospitals.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", 
       "\"\<Hospitals\>\"", "]"}]}], "]"}], "&"}], "/@", "distancingStates"}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario2/Hospitals.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario2\>\""}], "]"}], "[", 
       "\"\<Hospitals\>\"", "]"}]}], "]"}], "&"}], "/@", "distancingStates"}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario3/Hospitals.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario3\>\""}], "]"}], "[", 
       "\"\<Hospitals\>\"", "]"}]}], "]"}], "&"}], "/@", "distancingStates"}],
   ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario4/Hospitals.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario4\>\""}], "]"}], "[", 
       "\"\<Hospitals\>\"", "]"}]}], "]"}], "&"}], "/@", "distancingStates"}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario1/Deaths.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", "\"\<Deaths\>\"",
        "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario2/Deaths.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario2\>\""}], "]"}], "[", "\"\<Deaths\>\"",
        "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario3/Deaths.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario3\>\""}], "]"}], "[", "\"\<Deaths\>\"",
        "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario4/Deaths.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario4\>\""}], "]"}], "[", "\"\<Deaths\>\"",
        "]"}]}], "]"}], "&"}], "/@", "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario1/Progression.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", 
       "\"\<Progression\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario2/Progression.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario2\>\""}], "]"}], "[", 
       "\"\<Progression\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario3/Progression.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario3\>\""}], "]"}], "[", 
       "\"\<Progression\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/svg/state/\>\"", "<>", "#", "<>", 
       "\"\</scenario4/Progression.svg\>\""}], ",", 
      RowBox[{
       RowBox[{"statePlots", "[", 
        RowBox[{"#", ",", "\"\<scenario4\>\""}], "]"}], "[", 
       "\"\<Progression\>\"", "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<public/json/state/demographics.json\>\"", ",", 
    RowBox[{"Association", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"#", "\[Rule]", 
         RowBox[{
          RowBox[{"statePlots", "[", 
           RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", 
          "\"\<Demographics\>\"", "]"}]}], "&"}], ")"}], "/@", 
      "distancingStates"}], "]"}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{
      "\"\<public/json/state/\>\"", "<>", "#", "<>", 
       "\"\</summary.json\>\""}], ",", 
      RowBox[{"Association", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<scenario1\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"statePlots", "[", 
            RowBox[{"#", ",", "\"\<scenario1\>\""}], "]"}], "[", 
           "\"\<Summary\>\"", "]"}]}], ",", 
         RowBox[{"\"\<scenario2\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"statePlots", "[", 
            RowBox[{"#", ",", "\"\<scenario2\>\""}], "]"}], "[", 
           "\"\<Summary\>\"", "]"}]}], ",", 
         RowBox[{"\"\<scenario3\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"statePlots", "[", 
            RowBox[{"#", ",", "\"\<scenario3\>\""}], "]"}], "[", 
           "\"\<Summary\>\"", "]"}]}], ",", 
         RowBox[{"\"\<scenario4\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"statePlots", "[", 
            RowBox[{"#", ",", "\"\<scenario4\>\""}], "]"}], "[", 
           "\"\<Summary\>\"", "]"}]}]}], "}"}], "]"}]}], "]"}], "&"}], "/@", 
   "distancingStates"}], ";"}]}], "Input",
 CellChangeTimes->{{3.794211747601076*^9, 3.7942117994027643`*^9}, {
   3.794211896068612*^9, 3.79421189832407*^9}, {3.7942172874381657`*^9, 
   3.7942173156330853`*^9}, {3.794217970811452*^9, 3.7942179855035067`*^9}, {
   3.7942180983218718`*^9, 3.794218135700132*^9}, {3.794218779738921*^9, 
   3.794218787186193*^9}, {3.794221396568768*^9, 3.794221396687484*^9}, {
   3.794224967423612*^9, 3.7942249675585318`*^9}, {3.7942250742451067`*^9, 
   3.7942251806815577`*^9}, 3.794227482380937*^9, {3.794286718906006*^9, 
   3.794286719249358*^9}, {3.7942954709701138`*^9, 3.794295506251896*^9}, {
   3.794346131044138*^9, 
   3.794346135767171*^9}},ExpressionUUID->"22241097-c883-4ac0-891f-\
c8c582b7285f"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.794346155032124*^9, 
  3.794346158077139*^9}},ExpressionUUID->"535dd15e-0b43-4066-9543-\
69e659ca82ab"]
},
WindowSize->{1516, 1285},
WindowMargins->{{Automatic, 411}, {54, Automatic}},
TaggingRules->{"TryRealOnly" -> False},
FrontEndVersion->"12.1 for Mac OS X x86 (64-bit) (March 13, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"53b06501-1437-4847-9318-ad8339839cd0"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 725, 14, 52, "Input",ExpressionUUID->"f8e87a96-6358-4f9d-91e3-8046d84b9916"],
Cell[1286, 36, 216, 5, 35, "Text",ExpressionUUID->"3e98a561-e844-4b52-aa98-e9dec381af4c"],
Cell[CellGroupData[{
Cell[1527, 45, 37323, 839, 2845, "Input",ExpressionUUID->"8f417bc9-a111-4e5e-9647-a9ceb8851b0e"],
Cell[38853, 886, 18207, 361, 1176, "Output",ExpressionUUID->"bbe4c50a-55e7-40f2-9729-fdfe4600ab4c"]
}, Open  ]],
Cell[57075, 1250, 633, 10, 58, "Text",ExpressionUUID->"25c53830-e113-4e30-9cf4-0ae795214ea4"],
Cell[CellGroupData[{
Cell[57733, 1264, 53179, 1160, 3055, "Input",ExpressionUUID->"804b14a1-2ed4-4d4d-8b1f-36ff5cc43dd1"],
Cell[110915, 2426, 19560, 415, 1353, "Output",ExpressionUUID->"cc2390de-c3a2-4be5-93ea-d7e08dc3b2a3"]
}, Open  ]],
Cell[130490, 2844, 344, 7, 30, "Input",ExpressionUUID->"b407d622-bd82-458b-93ee-67d968657022"],
Cell[130837, 2853, 39659, 928, 2614, "Input",ExpressionUUID->"75e1263f-cc9d-40e7-9cdd-3c2466656987"],
Cell[170499, 3783, 156, 3, 30, "Input",ExpressionUUID->"2056ff86-2202-4cd3-a8b0-6bd4e0617dc5"],
Cell[170658, 3788, 10379, 308, 514, "Input",ExpressionUUID->"22241097-c883-4ac0-891f-c8c582b7285f"],
Cell[181040, 4098, 152, 3, 30, "Input",ExpressionUUID->"535dd15e-0b43-4066-9543-69e659ca82ab"]
}
]
*)

